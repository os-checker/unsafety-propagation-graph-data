{
  "name": "alloc::sync::Weak::<T, A>::into_raw_with_allocator",
  "span": "$library/alloc/src/sync.rs:3151:5: 3151:58",
  "doc": " Consumes the `Weak<T>`, returning the wrapped pointer and allocator.\n\n This converts the weak pointer into a raw pointer, while still preserving the ownership of\n one weak reference (the weak count is not modified by this operation). It can be turned\n back into the `Weak<T>` with [`from_raw_in`].\n\n The same restrictions of accessing the target of the pointer as with\n [`as_ptr`] apply.\n\n # Examples\n\n ```\n #![feature(allocator_api)]\n use std::sync::{Arc, Weak};\n use std::alloc::System;\n\n let strong = Arc::new_in(\"hello\".to_owned(), System);\n let weak = Arc::downgrade(&strong);\n let (raw, alloc) = weak.into_raw_with_allocator();\n\n assert_eq!(1, Arc::weak_count(&strong));\n assert_eq!(\"hello\", unsafe { &*raw });\n\n drop(unsafe { Weak::from_raw_in(raw, alloc) });\n assert_eq!(0, Arc::weak_count(&strong));\n ```\n\n [`from_raw_in`]: Weak::from_raw_in\n [`as_ptr`]: Weak::as_ptr\n"
}