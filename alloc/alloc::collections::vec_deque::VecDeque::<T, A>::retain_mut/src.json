{
  "name": "alloc::collections::vec_deque::VecDeque::<T, A>::retain_mut",
  "span": "$library/alloc/src/collections/vec_deque/mod.rs:2622:5: 2624:34",
  "src": "pub fn retain_mut<F>(&mut self, mut f: F)\n    where\n        F: FnMut(&mut T) -> bool,\n    {\n        let len = self.len;\n        let mut idx = 0;\n        let mut cur = 0;\n\n        // Stage 1: All values are retained.\n        while cur < len {\n            if !f(&mut self[cur]) {\n                cur += 1;\n                break;\n            }\n            cur += 1;\n            idx += 1;\n        }\n        // Stage 2: Swap retained value into current idx.\n        while cur < len {\n            if !f(&mut self[cur]) {\n                cur += 1;\n                continue;\n            }\n\n            self.swap(idx, cur);\n            cur += 1;\n            idx += 1;\n        }\n        // Stage 3: Truncate all values after idx.\n        if cur != idx {\n            self.truncate(idx);\n        }\n    }"
}