{
  "name": "alloc::collections::linked_list::LinkedList::<T, A>::split_off_before_node",
  "span": "$library/alloc/src/collections/linked_list.rs:337:5: 343:18",
  "src": "unsafe fn split_off_before_node(\n        &mut self,\n        split_node: Option<NonNull<Node<T>>>,\n        at: usize,\n    ) -> Self\n    where\n        A: Clone,\n    {\n        // The split node is the new head node of the second part\n        if let Some(mut split_node) = split_node {\n            let first_part_head;\n            let first_part_tail;\n            unsafe {\n                first_part_tail = split_node.as_mut().prev.take();\n            }\n            if let Some(mut tail) = first_part_tail {\n                unsafe {\n                    tail.as_mut().next = None;\n                }\n                first_part_head = self.head;\n            } else {\n                first_part_head = None;\n            }\n\n            let first_part = LinkedList {\n                head: first_part_head,\n                tail: first_part_tail,\n                len: at,\n                alloc: self.alloc.clone(),\n                marker: PhantomData,\n            };\n\n            // Fix the head ptr of the second part\n            self.head = Some(split_node);\n            self.len = self.len - at;\n\n            first_part\n        } else {\n            mem::replace(self, LinkedList::new_in(self.alloc.clone()))\n        }\n    }"
}