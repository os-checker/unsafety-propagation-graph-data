{
  "name": "alloc::collections::btree::set::BTreeSet::<T, A>::difference",
  "span": "$library/alloc/src/collections/btree/set.rs:426:5: 428:16",
  "src": "pub fn difference<'a>(&'a self, other: &'a BTreeSet<T, A>) -> Difference<'a, T, A>\n    where\n        T: Ord,\n    {\n        if let Some(self_min) = self.first()\n            && let Some(self_max) = self.last()\n            && let Some(other_min) = other.first()\n            && let Some(other_max) = other.last()\n        {\n            Difference {\n                inner: match (self_min.cmp(other_max), self_max.cmp(other_min)) {\n                    (Greater, _) | (_, Less) => DifferenceInner::Iterate(self.iter()),\n                    (Equal, _) => {\n                        let mut self_iter = self.iter();\n                        self_iter.next();\n                        DifferenceInner::Iterate(self_iter)\n                    }\n                    (_, Equal) => {\n                        let mut self_iter = self.iter();\n                        self_iter.next_back();\n                        DifferenceInner::Iterate(self_iter)\n                    }\n                    _ if self.len() <= other.len() / ITER_PERFORMANCE_TIPPING_SIZE_DIFF => {\n                        DifferenceInner::Search { self_iter: self.iter(), other_set: other }\n                    }\n                    _ => DifferenceInner::Stitch {\n                        self_iter: self.iter(),\n                        other_iter: other.iter().peekable(),\n                    },\n                },\n            }\n        } else {\n            Difference { inner: DifferenceInner::Iterate(self.iter()) }\n        }\n    }"
}