{
  "name": "alloc::vec::Vec::<T, A>::insert_mut",
  "span": "$library/alloc/src/vec/mod.rs:2057:5: 2057:69",
  "src": "pub fn insert_mut(&mut self, index: usize, element: T) -> &mut T {\n        #[cold]\n        #[cfg_attr(not(panic = \"immediate-abort\"), inline(never))]\n        #[track_caller]\n        #[optimize(size)]\n        fn assert_failed(index: usize, len: usize) -> ! {\n            panic!(\"insertion index (is {index}) should be <= len (is {len})\");\n        }\n\n        let len = self.len();\n        if index > len {\n            assert_failed(index, len);\n        }\n\n        // space for the new element\n        if len == self.buf.capacity() {\n            self.buf.grow_one();\n        }\n\n        unsafe {\n            // infallible\n            // The spot to put the new value\n            let p = self.as_mut_ptr().add(index);\n            {\n                if index < len {\n                    // Shift everything over to make space. (Duplicating the\n                    // `index`th element into two consecutive places.)\n                    ptr::copy(p, p.add(1), len - index);\n                }\n                // Write it in, overwriting the first copy of the `index`th\n                // element.\n                ptr::write(p, element);\n            }\n            self.set_len(len + 1);\n            &mut *p\n        }\n    }"
}