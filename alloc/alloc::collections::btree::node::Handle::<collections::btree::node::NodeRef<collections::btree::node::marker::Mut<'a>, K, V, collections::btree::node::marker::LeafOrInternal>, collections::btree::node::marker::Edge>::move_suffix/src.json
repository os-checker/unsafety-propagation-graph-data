{
  "name": "alloc::collections::btree::node::Handle::<collections::btree::node::NodeRef<collections::btree::node::marker::Mut<'a>, K, V, collections::btree::node::marker::LeafOrInternal>, collections::btree::node::marker::Edge>::move_suffix",
  "span": "$library/alloc/src/collections/btree/node.rs:1711:5: 1714:6",
  "src": "pub(super) fn move_suffix(\n        &mut self,\n        right: &mut NodeRef<marker::Mut<'a>, K, V, marker::LeafOrInternal>,\n    ) {\n        unsafe {\n            let new_left_len = self.idx;\n            let mut left_node = self.reborrow_mut().into_node();\n            let old_left_len = left_node.len();\n\n            let new_right_len = old_left_len - new_left_len;\n            let mut right_node = right.reborrow_mut();\n\n            assert!(right_node.len() == 0);\n            assert!(left_node.height == right_node.height);\n\n            if new_right_len > 0 {\n                *left_node.len_mut() = new_left_len as u16;\n                *right_node.len_mut() = new_right_len as u16;\n\n                move_to_slice(\n                    left_node.key_area_mut(new_left_len..old_left_len),\n                    right_node.key_area_mut(..new_right_len),\n                );\n                move_to_slice(\n                    left_node.val_area_mut(new_left_len..old_left_len),\n                    right_node.val_area_mut(..new_right_len),\n                );\n                match (left_node.force(), right_node.force()) {\n                    (ForceResult::Internal(mut left), ForceResult::Internal(mut right)) => {\n                        move_to_slice(\n                            left.edge_area_mut(new_left_len + 1..old_left_len + 1),\n                            right.edge_area_mut(1..new_right_len + 1),\n                        );\n                        right.correct_childrens_parent_links(1..new_right_len + 1);\n                    }\n                    (ForceResult::Leaf(_), ForceResult::Leaf(_)) => {}\n                    _ => unreachable!(),\n                }\n            }\n        }\n    }"
}