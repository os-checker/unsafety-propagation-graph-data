{
  "name": "alloc::collections::linked_list::LinkedList::<T, A>::split_off_after_node",
  "span": "$library/alloc/src/collections/linked_list.rs:380:5: 386:18",
  "src": "unsafe fn split_off_after_node(\n        &mut self,\n        split_node: Option<NonNull<Node<T>>>,\n        at: usize,\n    ) -> Self\n    where\n        A: Clone,\n    {\n        // The split node is the new tail node of the first part and owns\n        // the head of the second part.\n        if let Some(mut split_node) = split_node {\n            let second_part_head;\n            let second_part_tail;\n            unsafe {\n                second_part_head = split_node.as_mut().next.take();\n            }\n            if let Some(mut head) = second_part_head {\n                unsafe {\n                    head.as_mut().prev = None;\n                }\n                second_part_tail = self.tail;\n            } else {\n                second_part_tail = None;\n            }\n\n            let second_part = LinkedList {\n                head: second_part_head,\n                tail: second_part_tail,\n                len: self.len - at,\n                alloc: self.alloc.clone(),\n                marker: PhantomData,\n            };\n\n            // Fix the tail ptr of the first part\n            self.tail = Some(split_node);\n            self.len = at;\n\n            second_part\n        } else {\n            mem::replace(self, LinkedList::new_in(self.alloc.clone()))\n        }\n    }"
}