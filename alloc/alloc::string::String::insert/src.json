{
  "name": "alloc::string::String::insert",
  "span": "$library/alloc/src/string.rs:1712:5: 1712:51",
  "src": "pub fn insert(&mut self, idx: usize, ch: char) {\n        assert!(self.is_char_boundary(idx));\n\n        let len = self.len();\n        let ch_len = ch.len_utf8();\n        self.reserve(ch_len);\n\n        // SAFETY: Move the bytes starting from `idx` to their new location `ch_len`\n        // bytes ahead. This is safe because sufficient capacity was reserved, and `idx`\n        // is a char boundary.\n        unsafe {\n            ptr::copy(\n                self.vec.as_ptr().add(idx),\n                self.vec.as_mut_ptr().add(idx + ch_len),\n                len - idx,\n            );\n        }\n\n        // SAFETY: Encode the character into the vacated region if `idx != len`,\n        // or into the uninitialized spare capacity otherwise.\n        unsafe {\n            core::char::encode_utf8_raw_unchecked(ch as u32, self.vec.as_mut_ptr().add(idx));\n        }\n\n        // SAFETY: Update the length to include the newly added bytes.\n        unsafe {\n            self.vec.set_len(len + ch_len);\n        }\n    }"
}