{
  "name": "alloc::ffi::c_str::CString::from_vec_with_nul",
  "span": "$library/alloc/src/ffi/c_str.rs:673:5: 673:78",
  "doc": " Attempts to converts a <code>[Vec]<[u8]></code> to a [`CString`].\n\n Runtime checks are present to ensure there is only one nul byte in the\n [`Vec`], its last element.\n\n # Errors\n\n If a nul byte is present and not the last element or no nul bytes\n is present, an error will be returned.\n\n # Examples\n\n A successful conversion will produce the same result as [`CString::new`]\n when called without the ending nul byte.\n\n ```\n use std::ffi::CString;\n assert_eq!(\n     CString::from_vec_with_nul(b\"abc\\0\".to_vec())\n         .expect(\"CString::from_vec_with_nul failed\"),\n     c\"abc\".to_owned()\n );\n ```\n\n An incorrectly formatted [`Vec`] will produce an error.\n\n ```\n use std::ffi::{CString, FromVecWithNulError};\n // Interior nul byte\n let _: FromVecWithNulError = CString::from_vec_with_nul(b\"a\\0bc\".to_vec()).unwrap_err();\n // No nul byte\n let _: FromVecWithNulError = CString::from_vec_with_nul(b\"abc\".to_vec()).unwrap_err();\n ```\n"
}