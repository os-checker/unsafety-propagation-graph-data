{
  "name": "alloc::sync::Arc::<T, A>::unwrap_or_clone",
  "span": "$library/alloc/src/sync.rs:2584:5: 2584:44",
  "doc": " If we have the only reference to `T` then unwrap it. Otherwise, clone `T` and return the\n clone.\n\n Assuming `arc_t` is of type `Arc<T>`, this function is functionally equivalent to\n `(*arc_t).clone()`, but will avoid cloning the inner value where possible.\n\n # Examples\n\n ```\n # use std::{ptr, sync::Arc};\n let inner = String::from(\"test\");\n let ptr = inner.as_ptr();\n\n let arc = Arc::new(inner);\n let inner = Arc::unwrap_or_clone(arc);\n // The inner value was not cloned\n assert!(ptr::eq(ptr, inner.as_ptr()));\n\n let arc = Arc::new(inner);\n let arc2 = arc.clone();\n let inner = Arc::unwrap_or_clone(arc);\n // Because there were 2 references, we had to clone the inner value.\n assert!(!ptr::eq(ptr, inner.as_ptr()));\n // `arc2` is the last reference, so when we unwrap it we get back\n // the original `String`.\n let inner = Arc::unwrap_or_clone(arc2);\n assert!(ptr::eq(ptr, inner.as_ptr()));\n ```\n"
}