{
  "name": "core::slice::sort::stable::drift::sqrt_approx",
  "span": "$library/core/src/slice/sort/stable/drift.rs:173:1: 173:34",
  "src": "fn sqrt_approx(n: usize) -> usize {\n    // Note that sqrt(n) = n^(1/2), and that 2^log2(n) = n. We combine these\n    // two facts to approximate sqrt(n) as 2^(log2(n) / 2). Because our integer\n    // log floors we want to add 0.5 to compensate for this on average, so our\n    // initial approximation is 2^((1 + floor(log2(n))) / 2).\n    //\n    // We then apply an iteration of Newton's method to improve our\n    // approximation, which for sqrt(n) is a1 = (a0 + n / a0) / 2.\n    //\n    // Finally we note that the exponentiation / division can be done directly\n    // with shifts. We OR with 1 to avoid zero-checks in the integer log.\n    let ilog = (n | 1).ilog2();\n    let shift = ilog.div_ceil(2);\n    ((1 << shift) + (n >> shift)) / 2\n}"
}