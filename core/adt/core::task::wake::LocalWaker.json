{
  "name": "core::task::wake::LocalWaker",
  "constructors": [
    "core::<task::wake::LocalWaker as clone::Clone>::clone",
    "core::task::wake::LocalWaker::from_fn_ptr",
    "core::task::wake::LocalWaker::from_raw",
    "core::task::wake::LocalWaker::new"
  ],
  "access_self_as_arg": {
    "read": [
      "core::<task::wake::LocalWaker as clone::Clone>::clone",
      "core::<task::wake::LocalWaker as clone::Clone>::clone_from",
      "core::<task::wake::LocalWaker as fmt::Debug>::fmt",
      "core::task::wake::ContextBuilder::<'a>::local_waker",
      "core::task::wake::LocalWaker::data",
      "core::task::wake::LocalWaker::vtable",
      "core::task::wake::LocalWaker::wake",
      "core::task::wake::LocalWaker::wake_by_ref",
      "core::task::wake::LocalWaker::will_wake"
    ],
    "write": [
      "core::<task::wake::LocalWaker as clone::Clone>::clone_from",
      "core::<task::wake::LocalWaker as clone::Clone>::clone_from",
      "core::<task::wake::LocalWaker as ops::drop::Drop>::drop"
    ],
    "other": [
      "core::<task::wake::LocalWaker as clone::Clone>::clone",
      "core::<task::wake::LocalWaker as clone::Clone>::clone_from",
      "core::task::wake::LocalWaker::wake"
    ]
  },
  "access_self_as_locals": {
    "read": [
      "core::<task::wake::Waker as convert::AsRef<task::wake::LocalWaker>>::as_ref",
      "core::task::wake::Context::<'a>::local_waker",
      "core::task::wake::ContextBuilder::<'a>::build",
      "core::task::wake::ContextBuilder::<'a>::from",
      "core::task::wake::ContextBuilder::<'a>::from_waker",
      "core::task::wake::LocalWaker::noop"
    ],
    "write": [],
    "other": [
      "core::task::wake::LocalWaker::from_fn_ptr",
      "core::task::wake::LocalWaker::from_raw",
      "core::task::wake::LocalWaker::new"
    ]
  },
  "access_field": [
    {
      "read": [
        "core::<task::wake::LocalWaker as clone::Clone>::clone",
        "core::<task::wake::LocalWaker as fmt::Debug>::fmt",
        "core::task::wake::LocalWaker::data",
        "core::task::wake::LocalWaker::vtable",
        "core::task::wake::LocalWaker::wake",
        "core::task::wake::LocalWaker::wake_by_ref",
        "core::task::wake::LocalWaker::will_wake"
      ],
      "write": [
        "core::<task::wake::LocalWaker as ops::drop::Drop>::drop"
      ],
      "other": []
    }
  ],
  "span": "$library/core/src/task/wake.rs:740:1: 740:22",
  "src": "pub struct LocalWaker",
  "kind": "Struct",
  "doc_adt": " A `LocalWaker` is analogous to a [`Waker`], but it does not implement [`Send`] or [`Sync`].\n\n This handle encapsulates a [`RawWaker`] instance, which defines the\n executor-specific wakeup behavior.\n\n Local wakers can be requested from a `Context` with the [`local_waker`] method.\n\n The typical life of a `LocalWaker` is that it is constructed by an executor, wrapped in a\n [`Context`] using [`ContextBuilder`], then passed to [`Future::poll()`]. Then, if the future chooses to return\n [`Poll::Pending`], it must also store the waker somehow and call [`LocalWaker::wake()`] when\n the future should be polled again.\n\n Implements [`Clone`], but neither [`Send`] nor [`Sync`]; therefore, a local waker may\n not be moved to other threads. In general, when deciding to use wakers or local wakers,\n local wakers are preferable unless the waker needs to be sent across threads. This is because\n wakers can incur in additional cost related to memory synchronization.\n\n Note that it is preferable to use `local_waker.clone_from(&new_waker)` instead\n of `*local_waker = new_waker.clone()`, as the former will avoid cloning the waker\n unnecessarily if the two wakers [wake the same task](Self::will_wake).\n\n # Examples\n Usage of a local waker to implement a future analogous to `std::thread::yield_now()`.\n ```\n #![feature(local_waker)]\n use std::future::{Future, poll_fn};\n use std::task::Poll;\n\n // a future that returns pending once.\n fn yield_now() -> impl Future<Output=()> + Unpin {\n     let mut yielded = false;\n     poll_fn(move |cx| {\n         if !yielded {\n             yielded = true;\n             cx.local_waker().wake_by_ref();\n             return Poll::Pending;\n         }\n         return Poll::Ready(())\n     })\n }\n\n # async fn __() {\n yield_now().await;\n # }\n ```\n\n [`Future::poll()`]: core::future::Future::poll\n [`Poll::Pending`]: core::task::Poll::Pending\n [`local_waker`]: core::task::Context::local_waker\n",
  "variant_fields": {
    "VariantIdx(None)-FieldIdx(Some(0))": {
      "name": "waker",
      "doc": ""
    }
  }
}