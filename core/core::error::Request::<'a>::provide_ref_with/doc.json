{
  "name": "core::error::Request::<'a>::provide_ref_with",
  "span": "$library/core/src/error.rs:676:5: 679:19",
  "doc": " Provides a reference computed using a closure. The referee type\n must be bounded by `'static`, but may be unsized.\n\n # Examples\n\n Provides a reference to a field as a `&str`.\n\n ```rust\n #![feature(error_generic_member_access)]\n\n use core::error::Request;\n\n #[derive(Debug)]\n struct SomeConcreteType { business: String, party: String }\n fn today_is_a_weekday() -> bool { true }\n\n impl std::fmt::Display for SomeConcreteType {\n     fn fmt(&self, f: &mut std::fmt::Formatter<'_>) -> std::fmt::Result {\n         write!(f, \"{} failed\", self.business)\n     }\n }\n\n impl std::error::Error for SomeConcreteType {\n     fn provide<'a>(&'a self, request: &mut Request<'a>) {\n         request.provide_ref_with::<str>(|| {\n             if today_is_a_weekday() {\n                 &self.business\n             } else {\n                 &self.party\n             }\n         });\n     }\n }\n ```\n"
}