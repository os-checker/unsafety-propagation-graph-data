{
  "name": "ptr::const_ptr::<impl *const T>::expose_provenance",
  "safe": true,
  "callees": {
    "ptr::const_ptr::<impl *const T>::cast": {
      "safe": true,
      "tags": {
        "tags": [],
        "spec": {},
        "docs": []
      },
      "doc": " Casts to a pointer of another type.\n",
      "adt": {}
    }
  },
  "adts": {},
  "path": {
    "type": "Local",
    "path": "core::ptr::const_ptr::<impl *const T>::expose_provenance"
  },
  "span": "/home/gh-zjp-CN/.rustup/toolchains/nightly-2025-12-06-aarch64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ptr/const_ptr.rs:186:5: 188:6",
  "src": "pub fn expose_provenance(self) -> usize {\n        self.cast::<()>() as usize\n    }",
  "mir": "fn ptr::const_ptr::<impl *const T>::expose_provenance(_1: *const T) -> usize {\n    let mut _0: usize;\n    let mut _2: *const ();\n    debug self => _1;\n    bb0: {\n        StorageLive(_2);\n        _2 = ptr::const_ptr::<impl *const T>::cast::<()>(_1) -> [return: bb1, unwind unreachable];\n    }\n    bb1: {\n        _0 = move _2 as usize;\n        StorageDead(_2);\n        return;\n    }\n}\n",
  "doc": " Exposes the [\"provenance\"][crate::ptr#provenance] part of the pointer for future use in\n [`with_exposed_provenance`] and returns the \"address\" portion.\n\n This is equivalent to `self as usize`, which semantically discards provenance information.\n Furthermore, this (like the `as` cast) has the implicit side-effect of marking the\n provenance as 'exposed', so on platforms that support it you can later call\n [`with_exposed_provenance`] to reconstitute the original pointer including its provenance.\n\n Due to its inherent ambiguity, [`with_exposed_provenance`] may not be supported by tools\n that help you to stay conformant with the Rust memory model. It is recommended to use\n [Strict Provenance][crate::ptr#strict-provenance] APIs such as [`with_addr`][pointer::with_addr]\n wherever possible, in which case [`addr`][pointer::addr] should be used instead of `expose_provenance`.\n\n On most platforms this will produce a value with the same bytes as the original pointer,\n because all the bytes are dedicated to describing the address. Platforms which need to store\n additional information in the pointer may not support this operation, since the 'expose'\n side-effect which is required for [`with_exposed_provenance`] to work is typically not\n available.\n\n This is an [Exposed Provenance][crate::ptr#exposed-provenance] API.\n\n [`with_exposed_provenance`]: with_exposed_provenance\n",
  "tags": {
    "tags": [],
    "spec": {},
    "docs": []
  }
}