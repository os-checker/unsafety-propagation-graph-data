{
  "name": "core::slice::sort::shared::find_existing_run",
  "span": "$library/core/src/slice/sort/shared/mod.rs:20:1: 23:19",
  "src": "pub(crate) fn find_existing_run<T, F: FnMut(&T, &T) -> bool>(\n    v: &[T],\n    is_less: &mut F,\n) -> (usize, bool) {\n    let len = v.len();\n    if len < 2 {\n        return (len, false);\n    }\n\n    // SAFETY: We checked that len >= 2, so 0 and 1 are valid indices.\n    // This also means that run_len < len implies run_len and run_len - 1\n    // are valid indices as well.\n    unsafe {\n        let mut run_len = 2;\n        let strictly_descending = is_less(v.get_unchecked(1), v.get_unchecked(0));\n        if strictly_descending {\n            while run_len < len && is_less(v.get_unchecked(run_len), v.get_unchecked(run_len - 1)) {\n                run_len += 1;\n            }\n        } else {\n            while run_len < len && !is_less(v.get_unchecked(run_len), v.get_unchecked(run_len - 1))\n            {\n                run_len += 1;\n            }\n        }\n        (run_len, strictly_descending)\n    }\n}"
}