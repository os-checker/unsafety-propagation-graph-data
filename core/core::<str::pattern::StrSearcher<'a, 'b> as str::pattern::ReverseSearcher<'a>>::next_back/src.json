{
  "name": "core::<str::pattern::StrSearcher<'a, 'b> as str::pattern::ReverseSearcher<'a>>::next_back",
  "span": "$library/core/src/str/pattern.rs:1203:5: 1203:42",
  "src": "fn next_back(&mut self) -> SearchStep {\n        match self.searcher {\n            StrSearcherImpl::Empty(ref mut searcher) => {\n                if searcher.is_finished {\n                    return SearchStep::Done;\n                }\n                let is_match = searcher.is_match_bw;\n                searcher.is_match_bw = !searcher.is_match_bw;\n                let end = searcher.end;\n                match self.haystack[..end].chars().next_back() {\n                    _ if is_match => SearchStep::Match(end, end),\n                    None => {\n                        searcher.is_finished = true;\n                        SearchStep::Done\n                    }\n                    Some(ch) => {\n                        searcher.end -= ch.len_utf8();\n                        SearchStep::Reject(searcher.end, end)\n                    }\n                }\n            }\n            StrSearcherImpl::TwoWay(ref mut searcher) => {\n                if searcher.end == 0 {\n                    return SearchStep::Done;\n                }\n                let is_long = searcher.memory == usize::MAX;\n                match searcher.next_back::<RejectAndMatch>(\n                    self.haystack.as_bytes(),\n                    self.needle.as_bytes(),\n                    is_long,\n                ) {\n                    SearchStep::Reject(mut a, b) => {\n                        // skip to next char boundary\n                        while !self.haystack.is_char_boundary(a) {\n                            a -= 1;\n                        }\n                        searcher.end = cmp::min(a, searcher.end);\n                        SearchStep::Reject(a, b)\n                    }\n                    otherwise => otherwise,\n                }\n            }\n        }\n    }"
}