{
  "name": "core::<str::pattern::CharSearcher<'a> as str::pattern::Searcher<'a>>::next",
  "span": "$library/core/src/str/pattern.rs:405:5: 405:37",
  "src": "fn next(&mut self) -> SearchStep {\n        let old_finger = self.finger;\n        // SAFETY: 1-4 guarantee safety of `get_unchecked`\n        // 1. `self.finger` and `self.finger_back` are kept on unicode boundaries\n        //    (this is invariant)\n        // 2. `self.finger >= 0` since it starts at 0 and only increases\n        // 3. `self.finger < self.finger_back` because otherwise the char `iter`\n        //    would return `SearchStep::Done`\n        // 4. `self.finger` comes before the end of the haystack because `self.finger_back`\n        //    starts at the end and only decreases\n        let slice = unsafe { self.haystack.get_unchecked(old_finger..self.finger_back) };\n        let mut iter = slice.chars();\n        let old_len = iter.iter.len();\n        if let Some(ch) = iter.next() {\n            // add byte offset of current character\n            // without re-encoding as utf-8\n            self.finger += old_len - iter.iter.len();\n            if ch == self.needle {\n                SearchStep::Match(old_finger, self.finger)\n            } else {\n                SearchStep::Reject(old_finger, self.finger)\n            }\n        } else {\n            SearchStep::Done\n        }\n    }"
}