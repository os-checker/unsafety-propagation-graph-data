{
  "name": "core::<str::lossy::Debug<'_> as fmt::Debug>::fmt",
  "span": "$library/core/src/str/lossy.rs:115:5: 115:56",
  "src": "fn fmt(&self, f: &mut Formatter<'_>) -> fmt::Result {\n        f.write_char('\"')?;\n\n        for chunk in self.0.utf8_chunks() {\n            // Valid part.\n            // Here we partially parse UTF-8 again which is suboptimal.\n            {\n                let valid = chunk.valid();\n                let mut from = 0;\n                for (i, c) in valid.char_indices() {\n                    let esc = c.escape_debug_ext(EscapeDebugExtArgs {\n                        escape_grapheme_extended: true,\n                        escape_single_quote: false,\n                        escape_double_quote: true,\n                    });\n                    // If char needs escaping, flush backlog so far and write, else skip\n                    if esc.len() != 1 {\n                        f.write_str(&valid[from..i])?;\n                        for c in esc {\n                            f.write_char(c)?;\n                        }\n                        from = i + c.len_utf8();\n                    }\n                }\n                f.write_str(&valid[from..])?;\n            }\n\n            // Broken parts of string as hex escape.\n            for &b in chunk.invalid() {\n                write!(f, \"\\\\x{:02X}\", b)?;\n            }\n        }\n\n        f.write_char('\"')\n    }"
}