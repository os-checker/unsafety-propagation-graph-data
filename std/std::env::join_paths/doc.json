{
  "name": "std::env::join_paths",
  "span": "$library/std/src/env.rs:577:1: 580:21",
  "doc": " Joins a collection of [`Path`]s appropriately for the `PATH`\n environment variable.\n\n # Errors\n\n Returns an [`Err`] (containing an error message) if one of the input\n [`Path`]s contains an invalid character for constructing the `PATH`\n variable (a double quote on Windows or a colon on Unix), or if the system\n does not have a `PATH`-like variable (e.g. UEFI or WASI).\n\n # Examples\n\n Joining paths on a Unix-like platform:\n\n ```\n use std::env;\n use std::ffi::OsString;\n use std::path::Path;\n\n fn main() -> Result<(), env::JoinPathsError> {\n # if cfg!(unix) {\n     let paths = [Path::new(\"/bin\"), Path::new(\"/usr/bin\")];\n     let path_os_string = env::join_paths(paths.iter())?;\n     assert_eq!(path_os_string, OsString::from(\"/bin:/usr/bin\"));\n # }\n     Ok(())\n }\n ```\n\n Joining a path containing a colon on a Unix-like platform results in an\n error:\n\n ```\n # if cfg!(unix) {\n use std::env;\n use std::path::Path;\n\n let paths = [Path::new(\"/bin\"), Path::new(\"/usr/bi:n\")];\n assert!(env::join_paths(paths.iter()).is_err());\n # }\n ```\n\n Using `env::join_paths()` with [`env::split_paths()`] to append an item to\n the `PATH` environment variable:\n\n ```\n use std::env;\n use std::path::PathBuf;\n\n fn main() -> Result<(), env::JoinPathsError> {\n     if let Some(path) = env::var_os(\"PATH\") {\n         let mut paths = env::split_paths(&path).collect::<Vec<_>>();\n         paths.push(PathBuf::from(\"/home/xyz/bin\"));\n         let new_path = env::join_paths(paths)?;\n         unsafe { env::set_var(\"PATH\", &new_path); }\n     }\n\n     Ok(())\n }\n ```\n\n [`env::split_paths()`]: split_paths\n"
}