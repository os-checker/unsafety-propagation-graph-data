{
  "name": "std::sys::exit_guard::unique_thread_exit",
  "span": "$library/std/src/sys/exit_guard.rs:23:9: 23:43",
  "doc": " Mitigation for <https://github.com/rust-lang/rust/issues/126600>\n\n On glibc, `libc::exit` has been observed to not always be thread-safe.\n It is currently unclear whether that is a glibc bug or allowed by the standard.\n To mitigate this problem, we ensure that only one\n Rust thread calls `libc::exit` (or returns from `main`) by calling this function before\n calling `libc::exit` (or returning from `main`).\n\n Technically, this is not enough to ensure soundness, since other code directly calling\n `libc::exit` will still race with this.\n\n *This function does not itself call `libc::exit`.* This is so it can also be used\n to guard returning from `main`.\n\n This function will return only the first time it is called in a process.\n\n * If it is called again on the same thread as the first call, it will abort.\n * If it is called again on a different thread, it will wait in a loop\n   (waiting for the process to exit).\n"
}