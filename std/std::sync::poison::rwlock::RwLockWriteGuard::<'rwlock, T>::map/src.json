{
  "name": "std::sync::poison::rwlock::RwLockWriteGuard::<'rwlock, T>::map",
  "span": "$library/std/src/sync/poison/rwlock.rs:897:5: 900:19",
  "src": "pub fn map<U, F>(orig: Self, f: F) -> MappedRwLockWriteGuard<'rwlock, U>\n    where\n        F: FnOnce(&mut T) -> &mut U,\n        U: ?Sized,\n    {\n        // SAFETY: the conditions of `RwLockWriteGuard::new` were satisfied when the original guard\n        // was created, and have been upheld throughout `map` and/or `filter_map`.\n        // The signature of the closure guarantees that it will not \"leak\" the lifetime of the\n        // reference passed to it. If the closure panics, the guard will be dropped.\n        let data = NonNull::from(f(unsafe { &mut *orig.lock.data.get() }));\n        let orig = ManuallyDrop::new(orig);\n        MappedRwLockWriteGuard {\n            data,\n            inner_lock: &orig.lock.inner,\n            poison_flag: &orig.lock.poison,\n            poison_guard: orig.poison.clone(),\n            _variance: PhantomData,\n        }\n    }"
}