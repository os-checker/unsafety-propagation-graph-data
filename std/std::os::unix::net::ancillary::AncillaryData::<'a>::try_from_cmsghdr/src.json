{
  "name": "std::os::unix::net::ancillary::AncillaryData::<'a>::try_from_cmsghdr",
  "span": "$library/std/src/os/unix/net/ancillary.rs:506:5: 506:81",
  "src": "fn try_from_cmsghdr(cmsg: &'a libc::cmsghdr) -> Result<Self, AncillaryError> {\n        unsafe {\n            let cmsg_len_zero = libc::CMSG_LEN(0) as usize;\n            let data_len = (*cmsg).cmsg_len as usize - cmsg_len_zero;\n            let data = libc::CMSG_DATA(cmsg).cast();\n            let data = from_raw_parts(data, data_len);\n\n            match (*cmsg).cmsg_level {\n                libc::SOL_SOCKET => match (*cmsg).cmsg_type {\n                    libc::SCM_RIGHTS => Ok(AncillaryData::as_rights(data)),\n                    #[cfg(any(target_os = \"android\", target_os = \"linux\", target_os = \"cygwin\"))]\n                    libc::SCM_CREDENTIALS => Ok(AncillaryData::as_credentials(data)),\n                    #[cfg(target_os = \"freebsd\")]\n                    libc::SCM_CREDS2 => Ok(AncillaryData::as_credentials(data)),\n                    #[cfg(target_os = \"netbsd\")]\n                    libc::SCM_CREDS => Ok(AncillaryData::as_credentials(data)),\n                    cmsg_type => {\n                        Err(AncillaryError::Unknown { cmsg_level: libc::SOL_SOCKET, cmsg_type })\n                    }\n                },\n                cmsg_level => {\n                    Err(AncillaryError::Unknown { cmsg_level, cmsg_type: (*cmsg).cmsg_type })\n                }\n            }\n        }\n    }"
}