{
  "name": "std::os::unix::net::stream::UnixStream::recv_vectored_with_ancillary",
  "span": "$library/std/src/os/unix/net/stream.rs:550:5: 554:27",
  "doc": " Receives data and ancillary data from socket.\n\n On success, returns the number of bytes read.\n\n # Examples\n\n #![feature(unix_socket_ancillary_data)]\n use std::os::unix::net::{UnixStream, SocketAncillary, AncillaryData};\n use std::io::IoSliceMut;\n\n fn main() -> std::io::Result<()> {\n     let socket = UnixStream::connect(\"/tmp/sock\")?;\n     let mut buf1 = [1; 8];\n     let mut buf2 = [2; 16];\n     let mut buf3 = [3; 8];\n     let mut bufs = &mut [\n         IoSliceMut::new(&mut buf1),\n         IoSliceMut::new(&mut buf2),\n         IoSliceMut::new(&mut buf3),\n     ][..];\n     let mut fds = [0; 8];\n     let mut ancillary_buffer = [0; 128];\n     let mut ancillary = SocketAncillary::new(&mut ancillary_buffer[..]);\n     let size = socket.recv_vectored_with_ancillary(bufs, &mut ancillary)?;\n     println!(\"received {size}\");\n     for ancillary_result in ancillary.messages() {\n         if let AncillaryData::ScmRights(scm_rights) = ancillary_result.unwrap() {\n             for fd in scm_rights {\n                 println!(\"receive file descriptor: {fd}\");\n             }\n         }\n     }\n     Ok(())\n }\n ```\n"
}