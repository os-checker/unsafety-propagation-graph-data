{
  "name": "std::panicking::update_hook",
  "span": "$library/std/src/panicking.rs:222:1: 227:19",
  "doc": " Atomic combination of [`take_hook`] and [`set_hook`]. Use this to replace the panic handler with\n a new panic handler that does something and then executes the old handler.\n\n [`take_hook`]: ./fn.take_hook.html\n [`set_hook`]: ./fn.set_hook.html\n\n # Panics\n\n Panics if called from a panicking thread.\n\n # Examples\n\n The following will print the custom message, and then the normal output of panic.\n\n ```should_panic\n #![feature(panic_update_hook)]\n use std::panic;\n\n // Equivalent to\n // let prev = panic::take_hook();\n // panic::set_hook(Box::new(move |info| {\n //     println!(\"...\");\n //     prev(info);\n // }));\n panic::update_hook(move |prev, info| {\n     println!(\"Print custom message and execute panic handler as usual\");\n     prev(info);\n });\n\n panic!(\"Custom and then normal\");\n ```\n"
}