{
  "name": "fs::File::set_len",
  "safe": true,
  "callees": {
    "sys::fs::unix::File::truncate": {
      "safe": true,
      "tags": {
        "tags": [],
        "spec": {},
        "docs": []
      },
      "doc": "",
      "adt": {
        "sys::fs::unix::File": "ImmutableAsArgument",
        "core::result::Result": "Constructor"
      }
    }
  },
  "adts": {
    "sys::fs::unix::File": [
      "Ref"
    ],
    "fs::File": [
      "DerefVariantField(VariantIdx(None)-FieldIdx(Some(0)))",
      "Ref"
    ],
    "core::result::Result": [
      "Plain"
    ]
  },
  "path": 1136,
  "span": "/home/gh-zjp-CN/.rustup/toolchains/nightly-2025-12-06-aarch64-unknown-linux-gnu/lib/rustlib/src/rust/library/std/src/fs.rs:1083:5: 1085:6",
  "src": "pub fn set_len(&self, size: u64) -> io::Result<()> {\n        self.inner.truncate(size)\n    }",
  "mir": "fn fs::File::set_len(_1: &fs::File, _2: u64) -> core::result::Result<(), io::error::Error> {\n    let mut _0: core::result::Result<(), io::error::Error>;\n    let mut _3: &sys::fs::unix::File;\n    debug self => _1;\n    debug size => _2;\n    bb0: {\n        StorageLive(_3);\n        _3 = &((*_1).0: sys::fs::unix::File);\n        _0 = sys::fs::unix::File::truncate(move _3, _2) -> [return: bb1, unwind unreachable];\n    }\n    bb1: {\n        StorageDead(_3);\n        return;\n    }\n}\n",
  "doc": " Truncates or extends the underlying file, updating the size of\n this file to become `size`.\n\n If the `size` is less than the current file's size, then the file will\n be shrunk. If it is greater than the current file's size, then the file\n will be extended to `size` and have all of the intermediate data filled\n in with 0s.\n\n The file's cursor isn't changed. In particular, if the cursor was at the\n end and the file is shrunk using this operation, the cursor will now be\n past the end.\n\n # Errors\n\n This function will return an error if the file is not opened for writing.\n Also, [`std::io::ErrorKind::InvalidInput`](crate::io::ErrorKind::InvalidInput)\n will be returned if the desired length would cause an overflow due to\n the implementation specifics.\n\n # Examples\n\n ```no_run\n use std::fs::File;\n\n fn main() -> std::io::Result<()> {\n     let mut f = File::create(\"foo.txt\")?;\n     f.set_len(10)?;\n     Ok(())\n }\n ```\n\n Note that this method alters the content of the underlying file, even\n though it takes `&self` rather than `&mut self`.\n",
  "tags": {
    "tags": [],
    "spec": {},
    "docs": []
  }
}