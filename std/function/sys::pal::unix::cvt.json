{
  "name": "sys::pal::unix::cvt",
  "safe": true,
  "callees": {
    "sys::pal::unix::IsMinusOne::is_minus_one": {
      "safe": true,
      "tags": {
        "tags": [],
        "spec": {},
        "docs": []
      },
      "doc": "",
      "adt": {}
    },
    "io::error::Error::last_os_error": {
      "safe": true,
      "tags": {
        "tags": [],
        "spec": {},
        "docs": []
      },
      "doc": " Returns an error representing the last OS error which occurred.\n\n This function reads the value of `errno` for the target platform (e.g.\n `GetLastError` on Windows) and will return a corresponding instance of\n [`Error`] for the error code.\n\n This should be called immediately after a call to a platform function,\n otherwise the state of the error value is indeterminate. In particular,\n other standard library functions may call platform functions that may\n (or may not) reset the error value even if they succeed.\n\n # Examples\n\n ```\n use std::io::Error;\n\n let os_error = Error::last_os_error();\n println!(\"last OS error: {os_error:?}\");\n ```\n",
      "adt": {
        "io::error::Error": "Constructor"
      }
    }
  },
  "adts": {
    "io::error::Error": [
      "Plain"
    ],
    "core::result::Result": [
      "Plain"
    ]
  },
  "path": {
    "type": "Local",
    "path": "std::sys::pal::unix::cvt"
  },
  "span": "/home/gh-zjp-CN/.rustup/toolchains/nightly-2025-12-06-aarch64-unknown-linux-gnu/lib/rustlib/src/rust/library/std/src/sys/pal/unix/mod.rs:302:1: 304:2",
  "src": "pub fn cvt<T: IsMinusOne>(t: T) -> crate::io::Result<T> {\n    if t.is_minus_one() { Err(crate::io::Error::last_os_error()) } else { Ok(t) }\n}",
  "mir": "fn sys::pal::unix::cvt(_1: T) -> core::result::Result<T, io::error::Error> {\n    let mut _0: core::result::Result<T, io::error::Error>;\n    let mut _2: bool;\n    let mut _3: &T;\n    let mut _4: io::error::Error;\n    let mut _5: T;\n    let mut _6: bool;\n    debug t => _1;\n    bb0: {\n        _6 = false;\n        _6 = true;\n        StorageLive(_2);\n        StorageLive(_3);\n        _3 = &_1;\n        _2 = <T as sys::pal::unix::IsMinusOne>::is_minus_one(move _3) -> [return: bb1, unwind unreachable];\n    }\n    bb1: {\n        switchInt(move _2) -> [0: bb4, otherwise: bb2];\n    }\n    bb2: {\n        StorageDead(_3);\n        StorageLive(_4);\n        _4 = io::error::Error::last_os_error() -> [return: bb3, unwind unreachable];\n    }\n    bb3: {\n        _0 = core::result::Result::Err(move _4);\n        StorageDead(_4);\n        goto -> bb5;\n    }\n    bb4: {\n        StorageDead(_3);\n        StorageLive(_5);\n        _6 = false;\n        _5 = move _1;\n        _0 = core::result::Result::Ok(move _5);\n        StorageDead(_5);\n        goto -> bb5;\n    }\n    bb5: {\n        StorageDead(_2);\n        switchInt(_6) -> [0: bb6, otherwise: bb7];\n    }\n    bb6: {\n        return;\n    }\n    bb7: {\n        drop(_1) -> [return: bb6, unwind unreachable];\n    }\n}\n",
  "doc": " Converts native return values to Result using the *-1 means error is in `errno`*  convention.\n Non-error values are `Ok`-wrapped.\n",
  "tags": {
    "tags": [],
    "spec": {},
    "docs": []
  }
}