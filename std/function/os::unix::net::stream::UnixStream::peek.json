{
  "name": "os::unix::net::stream::UnixStream::peek",
  "safe": true,
  "callees": {
    "sys::net::connection::socket::unix::Socket::peek": {
      "safe": true,
      "tags": {
        "tags": [],
        "spec": {},
        "docs": []
      },
      "doc": "",
      "adt": {
        "sys::net::connection::socket::unix::Socket": "ImmutableAsArgument",
        "core::result::Result": "Constructor"
      }
    }
  },
  "adts": {
    "sys::net::connection::socket::unix::Socket": [
      "Ref"
    ],
    "os::unix::net::stream::UnixStream": [
      "DerefVariantField(VariantIdx(None)-FieldIdx(Some(0)))",
      "Ref"
    ],
    "core::result::Result": [
      "Plain"
    ]
  },
  "path": 2235,
  "span": "/home/gh-zjp-CN/.rustup/toolchains/nightly-2025-12-06-aarch64-unknown-linux-gnu/lib/rustlib/src/rust/library/std/src/os/unix/net/stream.rs:501:5: 503:6",
  "src": "pub fn peek(&self, buf: &mut [u8]) -> io::Result<usize> {\n        self.0.peek(buf)\n    }",
  "mir": "fn os::unix::net::stream::UnixStream::peek(_1: &os::unix::net::stream::UnixStream, _2: &mut [u8]) -> core::result::Result<usize, io::error::Error> {\n    let mut _0: core::result::Result<usize, io::error::Error>;\n    let mut _3: &sys::net::connection::socket::unix::Socket;\n    debug self => _1;\n    debug buf => _2;\n    bb0: {\n        StorageLive(_3);\n        _3 = &((*_1).0: sys::net::connection::socket::unix::Socket);\n        _0 = sys::net::connection::socket::unix::Socket::peek(move _3, _2) -> [return: bb1, unwind unreachable];\n    }\n    bb1: {\n        StorageDead(_3);\n        return;\n    }\n}\n",
  "doc": " Receives data on the socket from the remote address to which it is\n connected, without removing that data from the queue. On success,\n returns the number of bytes peeked.\n\n Successive calls return the same data. This is accomplished by passing\n `MSG_PEEK` as a flag to the underlying `recv` system call.\n\n # Examples\n\n ```no_run\n #![feature(unix_socket_peek)]\n\n use std::os::unix::net::UnixStream;\n\n fn main() -> std::io::Result<()> {\n     let socket = UnixStream::connect(\"/tmp/sock\")?;\n     let mut buf = [0; 10];\n     let len = socket.peek(&mut buf).expect(\"peek failed\");\n     Ok(())\n }\n ```\n",
  "tags": {
    "tags": [],
    "spec": {},
    "docs": []
  }
}