{
  "name": "rt::init",
  "safe": false,
  "callees": {
    "thread::current::current_id": {
      "safe": true,
      "tags": {
        "tags": [],
        "spec": {},
        "docs": []
      },
      "doc": " Gets the unique identifier of the thread which invokes it.\n\n Calling this function may be more efficient than accessing the current\n thread id through the current thread handle. i.e. `thread::current().id()`.\n\n This function will always succeed, will always return the same value for\n one thread and is guaranteed not to call the global allocator.\n\n # Examples\n\n ```\n #![feature(current_thread_id)]\n\n use std::thread;\n\n let other_thread = thread::spawn(|| {\n     thread::current_id()\n });\n\n let other_thread_id = other_thread.join().unwrap();\n assert_ne!(thread::current_id(), other_thread_id);\n ```\n",
      "adt": {
        "thread::id::ThreadId": "Constructor"
      }
    },
    "thread::main_thread::set": {
      "safe": false,
      "tags": {
        "tags": [],
        "spec": {},
        "docs": []
      },
      "doc": " # Safety\n May only be called once.\n",
      "adt": {
        "thread::id::ThreadId": "ImmutableAsArgument"
      }
    },
    "sys::pal::unix::init": {
      "safe": false,
      "tags": {
        "tags": [],
        "spec": {},
        "docs": []
      },
      "doc": "",
      "adt": {}
    }
  },
  "adts": {
    "thread::id::ThreadId": [
      "Plain"
    ]
  },
  "path": 2730,
  "span": "/home/gh-zjp-CN/.rustup/toolchains/nightly-2025-12-06-aarch64-unknown-linux-gnu/lib/rustlib/src/rust/library/std/src/rt.rs:111:1: 120:2",
  "src": "unsafe fn init(argc: isize, argv: *const *const u8, sigpipe: u8) {\n    // Remember the main thread ID to give it the correct name.\n    // SAFETY: this is the only time and place where we call this function.\n    unsafe { main_thread::set(thread::current_id()) };\n\n    #[cfg_attr(target_os = \"teeos\", allow(unused_unsafe))]\n    unsafe {\n        sys::init(argc, argv, sigpipe)\n    };\n}",
  "mir": "fn rt::init(_1: isize, _2: *const *const u8, _3: u8) -> () {\n    let mut _0: ();\n    let  _4: ();\n    let mut _5: thread::id::ThreadId;\n    let  _6: ();\n    debug argc => _1;\n    debug argv => _2;\n    debug sigpipe => _3;\n    bb0: {\n        StorageLive(_5);\n        _5 = thread::current::current_id() -> [return: bb1, unwind unreachable];\n    }\n    bb1: {\n        _4 = thread::main_thread::set(move _5) -> [return: bb2, unwind unreachable];\n    }\n    bb2: {\n        StorageDead(_5);\n        _6 = sys::pal::unix::init(_1, _2, _3) -> [return: bb3, unwind unreachable];\n    }\n    bb3: {\n        return;\n    }\n}\n",
  "doc": "",
  "tags": {
    "tags": [],
    "spec": {},
    "docs": []
  }
}