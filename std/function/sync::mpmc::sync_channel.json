{
  "name": "sync::mpmc::sync_channel",
  "safe": true,
  "callees": {
    "sync::mpmc::zero::Channel::<T>::new": {
      "safe": true,
      "tags": {
        "tags": [],
        "spec": {},
        "docs": []
      },
      "doc": " Constructs a new zero-capacity channel.\n",
      "adt": {
        "sync::mpmc::zero::Channel": "Constructor"
      }
    },
    "sync::mpmc::counter::new": {
      "safe": true,
      "tags": {
        "tags": [],
        "spec": {},
        "docs": []
      },
      "doc": " Wraps a channel into the reference counter.\n",
      "adt": {
        "sync::mpmc::counter::Sender": "Constructor",
        "sync::mpmc::counter::Receiver": "Constructor"
      }
    },
    "sync::mpmc::array::Channel::<T>::with_capacity": {
      "safe": true,
      "tags": {
        "tags": [],
        "spec": {},
        "docs": []
      },
      "doc": " Creates a bounded channel of capacity `cap`.\n",
      "adt": {
        "sync::mpmc::array::Channel": "Constructor"
      }
    }
  },
  "adts": {
    "sync::mpmc::zero::Channel": [
      "Plain"
    ],
    "sync::mpmc::counter::Sender": [
      "Plain",
      "Unknown([Field(0, Ty { id: 11135, kind: RigidTy(Adt(AdtDef(DefId { id: 9339, name: \"sync::mpmc::counter::Sender\" }), GenericArgs([Type(Ty { id: 11057, kind: RigidTy(Adt(AdtDef(DefId { id: 9477, name: \"sync::mpmc::zero::Channel\" }), GenericArgs([Type(Ty { id: 9, kind: Param(ParamTy { index: 0, name: \"T\" }) })]))) })]))) })])",
      "Unknown([Field(1, Ty { id: 11136, kind: RigidTy(Adt(AdtDef(DefId { id: 9340, name: \"sync::mpmc::counter::Receiver\" }), GenericArgs([Type(Ty { id: 11057, kind: RigidTy(Adt(AdtDef(DefId { id: 9477, name: \"sync::mpmc::zero::Channel\" }), GenericArgs([Type(Ty { id: 9, kind: Param(ParamTy { index: 0, name: \"T\" }) })]))) })]))) })])",
      "Unknown([Field(0, Ty { id: 11138, kind: RigidTy(Adt(AdtDef(DefId { id: 9339, name: \"sync::mpmc::counter::Sender\" }), GenericArgs([Type(Ty { id: 10556, kind: RigidTy(Adt(AdtDef(DefId { id: 9234, name: \"sync::mpmc::array::Channel\" }), GenericArgs([Type(Ty { id: 9, kind: Param(ParamTy { index: 0, name: \"T\" }) })]))) })]))) })])",
      "Unknown([Field(1, Ty { id: 11139, kind: RigidTy(Adt(AdtDef(DefId { id: 9340, name: \"sync::mpmc::counter::Receiver\" }), GenericArgs([Type(Ty { id: 10556, kind: RigidTy(Adt(AdtDef(DefId { id: 9234, name: \"sync::mpmc::array::Channel\" }), GenericArgs([Type(Ty { id: 9, kind: Param(ParamTy { index: 0, name: \"T\" }) })]))) })]))) })])"
    ],
    "sync::mpmc::counter::Receiver": [
      "Plain",
      "Unknown([Field(0, Ty { id: 11135, kind: RigidTy(Adt(AdtDef(DefId { id: 9339, name: \"sync::mpmc::counter::Sender\" }), GenericArgs([Type(Ty { id: 11057, kind: RigidTy(Adt(AdtDef(DefId { id: 9477, name: \"sync::mpmc::zero::Channel\" }), GenericArgs([Type(Ty { id: 9, kind: Param(ParamTy { index: 0, name: \"T\" }) })]))) })]))) })])",
      "Unknown([Field(1, Ty { id: 11136, kind: RigidTy(Adt(AdtDef(DefId { id: 9340, name: \"sync::mpmc::counter::Receiver\" }), GenericArgs([Type(Ty { id: 11057, kind: RigidTy(Adt(AdtDef(DefId { id: 9477, name: \"sync::mpmc::zero::Channel\" }), GenericArgs([Type(Ty { id: 9, kind: Param(ParamTy { index: 0, name: \"T\" }) })]))) })]))) })])",
      "Unknown([Field(0, Ty { id: 11138, kind: RigidTy(Adt(AdtDef(DefId { id: 9339, name: \"sync::mpmc::counter::Sender\" }), GenericArgs([Type(Ty { id: 10556, kind: RigidTy(Adt(AdtDef(DefId { id: 9234, name: \"sync::mpmc::array::Channel\" }), GenericArgs([Type(Ty { id: 9, kind: Param(ParamTy { index: 0, name: \"T\" }) })]))) })]))) })])",
      "Unknown([Field(1, Ty { id: 11139, kind: RigidTy(Adt(AdtDef(DefId { id: 9340, name: \"sync::mpmc::counter::Receiver\" }), GenericArgs([Type(Ty { id: 10556, kind: RigidTy(Adt(AdtDef(DefId { id: 9234, name: \"sync::mpmc::array::Channel\" }), GenericArgs([Type(Ty { id: 9, kind: Param(ParamTy { index: 0, name: \"T\" }) })]))) })]))) })])"
    ],
    "sync::mpmc::SenderFlavor": [
      "Plain"
    ],
    "sync::mpmc::Sender": [
      "Plain"
    ],
    "sync::mpmc::ReceiverFlavor": [
      "Plain"
    ],
    "sync::mpmc::Receiver": [
      "Plain"
    ],
    "sync::mpmc::array::Channel": [
      "Plain"
    ]
  },
  "path": 2943,
  "span": "/home/gh-zjp-CN/.rustup/toolchains/nightly-2025-12-06-aarch64-unknown-linux-gnu/lib/rustlib/src/rust/library/std/src/sync/mpmc/mod.rs:249:1: 261:2",
  "src": "pub fn sync_channel<T>(cap: usize) -> (Sender<T>, Receiver<T>) {\n    if cap == 0 {\n        let (s, r) = counter::new(zero::Channel::new());\n        let s = Sender { flavor: SenderFlavor::Zero(s) };\n        let r = Receiver { flavor: ReceiverFlavor::Zero(r) };\n        (s, r)\n    } else {\n        let (s, r) = counter::new(array::Channel::with_capacity(cap));\n        let s = Sender { flavor: SenderFlavor::Array(s) };\n        let r = Receiver { flavor: ReceiverFlavor::Array(r) };\n        (s, r)\n    }\n}",
  "mir": "fn sync::mpmc::sync_channel(_1: usize) -> (sync::mpmc::Sender<T>, sync::mpmc::Receiver<T>) {\n    let mut _0: (sync::mpmc::Sender<T>, sync::mpmc::Receiver<T>);\n    let  _2: sync::mpmc::counter::Sender<sync::mpmc::zero::Channel<T>>;\n    let  _3: sync::mpmc::counter::Receiver<sync::mpmc::zero::Channel<T>>;\n    let mut _4: (sync::mpmc::counter::Sender<sync::mpmc::zero::Channel<T>>, sync::mpmc::counter::Receiver<sync::mpmc::zero::Channel<T>>);\n    let mut _5: sync::mpmc::zero::Channel<T>;\n    let  _6: sync::mpmc::Sender<T>;\n    let mut _7: sync::mpmc::SenderFlavor<T>;\n    let  _8: sync::mpmc::Receiver<T>;\n    let mut _9: sync::mpmc::ReceiverFlavor<T>;\n    let  _10: sync::mpmc::counter::Sender<sync::mpmc::array::Channel<T>>;\n    let  _11: sync::mpmc::counter::Receiver<sync::mpmc::array::Channel<T>>;\n    let mut _12: (sync::mpmc::counter::Sender<sync::mpmc::array::Channel<T>>, sync::mpmc::counter::Receiver<sync::mpmc::array::Channel<T>>);\n    let mut _13: sync::mpmc::array::Channel<T>;\n    let  _14: sync::mpmc::Sender<T>;\n    let mut _15: sync::mpmc::SenderFlavor<T>;\n    let  _16: sync::mpmc::Receiver<T>;\n    let mut _17: sync::mpmc::ReceiverFlavor<T>;\n    debug cap => _1;\n    debug s => _2;\n    debug r => _3;\n    debug s => _6;\n    debug r => _8;\n    debug s => _10;\n    debug r => _11;\n    debug s => _14;\n    debug r => _16;\n    bb0: {\n        switchInt(_1) -> [0: bb1, otherwise: bb4];\n    }\n    bb1: {\n        StorageLive(_4);\n        StorageLive(_5);\n        _5 = sync::mpmc::zero::Channel::<T>::new() -> [return: bb2, unwind unreachable];\n    }\n    bb2: {\n        _4 = sync::mpmc::counter::new::<sync::mpmc::zero::Channel<T>>(move _5) -> [return: bb3, unwind unreachable];\n    }\n    bb3: {\n        StorageDead(_5);\n        _2 = move (_4.0: sync::mpmc::counter::Sender<sync::mpmc::zero::Channel<T>>);\n        _3 = move (_4.1: sync::mpmc::counter::Receiver<sync::mpmc::zero::Channel<T>>);\n        StorageDead(_4);\n        StorageLive(_7);\n        _7 = sync::mpmc::SenderFlavor::Zero(_2);\n        _6 = Sender(move _7);\n        StorageDead(_7);\n        StorageLive(_9);\n        _9 = sync::mpmc::ReceiverFlavor::Zero(_3);\n        _8 = Receiver(move _9);\n        StorageDead(_9);\n        _0 = (_6, _8);\n        goto -> bb7;\n    }\n    bb4: {\n        StorageLive(_12);\n        StorageLive(_13);\n        _13 = sync::mpmc::array::Channel::<T>::with_capacity(_1) -> [return: bb5, unwind unreachable];\n    }\n    bb5: {\n        _12 = sync::mpmc::counter::new::<sync::mpmc::array::Channel<T>>(move _13) -> [return: bb6, unwind unreachable];\n    }\n    bb6: {\n        StorageDead(_13);\n        _10 = move (_12.0: sync::mpmc::counter::Sender<sync::mpmc::array::Channel<T>>);\n        _11 = move (_12.1: sync::mpmc::counter::Receiver<sync::mpmc::array::Channel<T>>);\n        StorageDead(_12);\n        StorageLive(_15);\n        _15 = sync::mpmc::SenderFlavor::Array(_10);\n        _14 = Sender(move _15);\n        StorageDead(_15);\n        StorageLive(_17);\n        _17 = sync::mpmc::ReceiverFlavor::Array(_11);\n        _16 = Receiver(move _17);\n        StorageDead(_17);\n        _0 = (_14, _16);\n        goto -> bb7;\n    }\n    bb7: {\n        return;\n    }\n}\n",
  "doc": " Creates a new synchronous, bounded channel.\n\n All data sent on the [`Sender`] will become available on the [`Receiver`]\n in the same order as it was sent. Like asynchronous [`channel`]s, the\n [`Receiver`] will block until a message becomes available. `sync_channel`\n differs greatly in the semantics of the sender, however.\n\n This channel has an internal buffer on which messages will be queued.\n `bound` specifies the buffer size. When the internal buffer becomes full,\n future sends will *block* waiting for the buffer to open up. Note that a\n buffer size of 0 is valid, in which case this becomes \"rendezvous channel\"\n where each [`send`] will not return until a [`recv`] is paired with it.\n\n The [`Sender`] can be cloned to [`send`] to the same channel multiple\n times. The [`Receiver`] also can be cloned to have multi receivers.\n\n Like asynchronous channels, if the [`Receiver`] is disconnected while trying\n to [`send`] with the [`Sender`], the [`send`] method will return a\n [`SendError`]. Similarly, If the [`Sender`] is disconnected while trying\n to [`recv`], the [`recv`] method will return a [`RecvError`].\n\n [`send`]: Sender::send\n [`recv`]: Receiver::recv\n\n # Examples\n\n ```\n use std::sync::mpsc::sync_channel;\n use std::thread;\n\n let (sender, receiver) = sync_channel(1);\n\n // this returns immediately\n sender.send(1).unwrap();\n\n thread::spawn(move || {\n     // this will block until the previous message has been received\n     sender.send(2).unwrap();\n });\n\n assert_eq!(receiver.recv().unwrap(), 1);\n assert_eq!(receiver.recv().unwrap(), 2);\n ```\n",
  "tags": {
    "tags": [],
    "spec": {},
    "docs": []
  }
}