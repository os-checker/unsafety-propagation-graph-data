{
  "name": "fs::set_permissions",
  "safe": true,
  "callees": {
    "core::convert::AsRef::as_ref": {
      "safe": true,
      "tags": {
        "tags": [],
        "spec": {},
        "docs": []
      },
      "doc": " Converts this type into a shared reference of the (usually inferred) input type.\n",
      "adt": {}
    },
    "sys::fs::set_permissions": {
      "safe": true,
      "tags": {
        "tags": [],
        "spec": {},
        "docs": []
      },
      "doc": "",
      "adt": {
        "path::Path": "ImmutableAsArgument",
        "sys::fs::unix::FilePermissions": "ImmutableAsArgument",
        "core::result::Result": "Constructor"
      }
    }
  },
  "adts": {
    "path::Path": [
      "Ref"
    ],
    "sys::fs::unix::FilePermissions": [
      "Plain"
    ],
    "fs::Permissions": [
      "Unknown([Field(0, Ty { id: 3849, kind: RigidTy(Adt(AdtDef(DefId { id: 6037, name: \"sys::fs::unix::FilePermissions\" }), GenericArgs([]))) })])",
      "Plain"
    ],
    "core::result::Result": [
      "Plain"
    ]
  },
  "path": {
    "type": "Local",
    "path": "std::fs::set_permissions"
  },
  "span": "/home/gh-zjp-CN/.rustup/toolchains/nightly-2025-12-06-aarch64-unknown-linux-gnu/lib/rustlib/src/rust/library/std/src/fs.rs:3244:1: 3246:2",
  "src": "pub fn set_permissions<P: AsRef<Path>>(path: P, perm: Permissions) -> io::Result<()> {\n    fs_imp::set_permissions(path.as_ref(), perm.0)\n}",
  "mir": "fn fs::set_permissions(_1: P, _2: fs::Permissions) -> core::result::Result<(), io::error::Error> {\n    let mut _0: core::result::Result<(), io::error::Error>;\n    let  _3: &path::Path;\n    let mut _4: &P;\n    let mut _5: sys::fs::unix::FilePermissions;\n    debug path => _1;\n    debug perm => _2;\n    bb0: {\n        StorageLive(_4);\n        _4 = &_1;\n        _3 = <P as core::convert::AsRef<path::Path>>::as_ref(move _4) -> [return: bb1, unwind unreachable];\n    }\n    bb1: {\n        StorageDead(_4);\n        StorageLive(_5);\n        _5 = move (_2.0: sys::fs::unix::FilePermissions);\n        _0 = sys::fs::set_permissions(_3, move _5) -> [return: bb2, unwind unreachable];\n    }\n    bb2: {\n        StorageDead(_5);\n        drop(_1) -> [return: bb3, unwind unreachable];\n    }\n    bb3: {\n        return;\n    }\n}\n",
  "doc": " Changes the permissions found on a file or a directory.\n\n # Platform-specific behavior\n\n This function currently corresponds to the `chmod` function on Unix\n and the `SetFileAttributes` function on Windows.\n Note that, this [may change in the future][changes].\n\n [changes]: io#platform-specific-behavior\n\n ## Symlinks\n On UNIX-like systems, this function will update the permission bits\n of the file pointed to by the symlink.\n\n Note that this behavior can lead to privilege escalation vulnerabilities,\n where the ability to create a symlink in one directory allows you to\n cause the permissions of another file or directory to be modified.\n\n For this reason, using this function with symlinks should be avoided.\n When possible, permissions should be set at creation time instead.\n\n # Rationale\n POSIX does not specify an `lchmod` function,\n and symlinks can be followed regardless of what permission bits are set.\n\n # Errors\n\n This function will return an error in the following situations, but is not\n limited to just these cases:\n\n * `path` does not exist.\n * The user lacks the permission to change attributes of the file.\n\n # Examples\n\n ```no_run\n use std::fs;\n\n fn main() -> std::io::Result<()> {\n     let mut perms = fs::metadata(\"foo.txt\")?.permissions();\n     perms.set_readonly(true);\n     fs::set_permissions(\"foo.txt\", perms)?;\n     Ok(())\n }\n ```\n",
  "tags": {
    "tags": [],
    "spec": {},
    "docs": []
  }
}