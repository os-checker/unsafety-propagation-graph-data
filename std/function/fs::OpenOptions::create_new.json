{
  "name": "fs::OpenOptions::create_new",
  "safe": true,
  "callees": {
    "sys::fs::unix::OpenOptions::create_new": {
      "safe": true,
      "tags": {
        "tags": [],
        "spec": {},
        "docs": []
      },
      "doc": "",
      "adt": {
        "sys::fs::unix::OpenOptions": "MutableAsArgument"
      }
    }
  },
  "adts": {
    "sys::fs::unix::OpenOptions": [
      "MutRef"
    ],
    "fs::OpenOptions": [
      "DerefVariantField(VariantIdx(None)-FieldIdx(Some(0)))",
      "MutRef"
    ]
  },
  "path": 1225,
  "span": "/home/gh-zjp-CN/.rustup/toolchains/nightly-2025-12-06-aarch64-unknown-linux-gnu/lib/rustlib/src/rust/library/std/src/fs.rs:1748:5: 1751:6",
  "src": "pub fn create_new(&mut self, create_new: bool) -> &mut Self {\n        self.0.create_new(create_new);\n        self\n    }",
  "mir": "fn fs::OpenOptions::create_new(_1: &mut fs::OpenOptions, _2: bool) -> &mut fs::OpenOptions {\n    let mut _0: &mut fs::OpenOptions;\n    let  _3: ();\n    let mut _4: &mut sys::fs::unix::OpenOptions;\n    debug self => _1;\n    debug create_new => _2;\n    bb0: {\n        StorageLive(_4);\n        _4 = &mut ((*_1).0: sys::fs::unix::OpenOptions);\n        _3 = sys::fs::unix::OpenOptions::create_new(move _4, _2) -> [return: bb1, unwind unreachable];\n    }\n    bb1: {\n        StorageDead(_4);\n        _0 = _1;\n        return;\n    }\n}\n",
  "doc": " Sets the option to create a new file, failing if it already exists.\n\n No file is allowed to exist at the target location, also no (dangling) symlink. In this\n way, if the call succeeds, the file returned is guaranteed to be new.\n If a file exists at the target location, creating a new file will fail with [`AlreadyExists`]\n or another error based on the situation. See [`OpenOptions::open`] for a\n non-exhaustive list of likely errors.\n\n This option is useful because it is atomic. Otherwise between checking\n whether a file exists and creating a new one, the file may have been\n created by another process (a [TOCTOU] race condition / attack).\n\n If `.create_new(true)` is set, [`.create()`] and [`.truncate()`] are\n ignored.\n\n The file must be opened with write or append access in order to create\n a new file.\n\n [`.create()`]: OpenOptions::create\n [`.truncate()`]: OpenOptions::truncate\n [`AlreadyExists`]: io::ErrorKind::AlreadyExists\n [TOCTOU]: self#time-of-check-to-time-of-use-toctou\n\n # Examples\n\n ```no_run\n use std::fs::OpenOptions;\n\n let file = OpenOptions::new().write(true)\n                              .create_new(true)\n                              .open(\"foo.txt\");\n ```\n",
  "tags": {
    "tags": [],
    "spec": {},
    "docs": []
  }
}