{
  "name": "fs::Permissions::readonly",
  "safe": true,
  "callees": {
    "sys::fs::unix::FilePermissions::readonly": {
      "safe": true,
      "tags": {
        "tags": [],
        "spec": {},
        "docs": []
      },
      "doc": "",
      "adt": {
        "sys::fs::unix::FilePermissions": "ImmutableAsArgument"
      }
    }
  },
  "adts": {
    "sys::fs::unix::FilePermissions": [
      "Ref"
    ],
    "fs::Permissions": [
      "DerefVariantField(VariantIdx(None)-FieldIdx(Some(0)))",
      "Ref"
    ]
  },
  "path": {
    "type": "Local",
    "path": "std::fs::Permissions::readonly"
  },
  "span": "/home/gh-zjp-CN/.rustup/toolchains/nightly-2025-12-06-aarch64-unknown-linux-gnu/lib/rustlib/src/rust/library/std/src/fs.rs:2178:5: 2180:6",
  "src": "pub fn readonly(&self) -> bool {\n        self.0.readonly()\n    }",
  "mir": "fn fs::Permissions::readonly(_1: &fs::Permissions) -> bool {\n    let mut _0: bool;\n    let mut _2: &sys::fs::unix::FilePermissions;\n    debug self => _1;\n    bb0: {\n        StorageLive(_2);\n        _2 = &((*_1).0: sys::fs::unix::FilePermissions);\n        _0 = sys::fs::unix::FilePermissions::readonly(move _2) -> [return: bb1, unwind unreachable];\n    }\n    bb1: {\n        StorageDead(_2);\n        return;\n    }\n}\n",
  "doc": " Returns `true` if these permissions describe a readonly (unwritable) file.\n\n # Note\n\n This function does not take Access Control Lists (ACLs), Unix group\n membership and other nuances into account.\n Therefore the return value of this function cannot be relied upon\n to predict whether attempts to read or write the file will actually succeed.\n\n # Windows\n\n On Windows this returns [`FILE_ATTRIBUTE_READONLY`](https://docs.microsoft.com/en-us/windows/win32/fileio/file-attribute-constants).\n If `FILE_ATTRIBUTE_READONLY` is set then writes to the file will fail\n but the user may still have permission to change this flag. If\n `FILE_ATTRIBUTE_READONLY` is *not* set then writes may still fail due\n to lack of write permission.\n The behavior of this attribute for directories depends on the Windows\n version.\n\n # Unix (including macOS)\n\n On Unix-based platforms this checks if *any* of the owner, group or others\n write permission bits are set. It does not consider anything else, including:\n\n * Whether the current user is in the file's assigned group.\n * Permissions granted by ACL.\n * That `root` user can write to files that do not have any write bits set.\n * Writable files on a filesystem that is mounted read-only.\n\n The [`PermissionsExt`] trait gives direct access to the permission bits but\n also does not read ACLs.\n\n [`PermissionsExt`]: crate::os::unix::fs::PermissionsExt\n\n # Examples\n\n ```no_run\n use std::fs::File;\n\n fn main() -> std::io::Result<()> {\n     let mut f = File::create(\"foo.txt\")?;\n     let metadata = f.metadata()?;\n\n     assert_eq!(false, metadata.permissions().readonly());\n     Ok(())\n }\n ```\n",
  "tags": {
    "tags": [],
    "spec": {},
    "docs": []
  }
}