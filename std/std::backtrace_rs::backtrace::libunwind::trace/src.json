{
  "name": "std::backtrace_rs::backtrace::libunwind::trace",
  "span": "$library/std/src/../../backtrace/src/backtrace/libunwind.rs:115:1: 115:67",
  "src": "pub unsafe fn trace(mut cb: &mut dyn FnMut(&super::Frame) -> bool) {\n    unsafe {\n        uw::_Unwind_Backtrace(trace_fn, addr_of_mut!(cb).cast());\n    }\n\n    extern \"C\" fn trace_fn(\n        ctx: *mut uw::_Unwind_Context,\n        arg: *mut c_void,\n    ) -> uw::_Unwind_Reason_Code {\n        let cb = unsafe { &mut *arg.cast::<&mut dyn FnMut(&super::Frame) -> bool>() };\n        let cx = super::Frame {\n            inner: Frame::Raw(ctx),\n        };\n\n        let mut bomb = Bomb { enabled: true };\n        let keep_going = cb(&cx);\n        bomb.enabled = false;\n\n        if keep_going {\n            uw::_URC_NO_REASON\n        } else {\n            uw::_URC_FAILURE\n        }\n    }\n}"
}