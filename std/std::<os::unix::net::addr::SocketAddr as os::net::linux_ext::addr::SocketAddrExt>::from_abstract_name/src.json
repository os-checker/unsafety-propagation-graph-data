{
  "name": "std::<os::unix::net::addr::SocketAddr as os::net::linux_ext::addr::SocketAddrExt>::from_abstract_name",
  "span": "$library/std/src/os/unix/net/addr.rs:267:5: 269:24",
  "src": "fn from_abstract_name<N>(name: N) -> crate::io::Result<Self>\n    where\n        N: AsRef<[u8]>,\n    {\n        let name = name.as_ref();\n        unsafe {\n            let mut addr: libc::sockaddr_un = mem::zeroed();\n            addr.sun_family = libc::AF_UNIX as libc::sa_family_t;\n\n            if name.len() + 1 > addr.sun_path.len() {\n                return Err(io::const_error!(\n                    io::ErrorKind::InvalidInput,\n                    \"abstract socket name must be shorter than SUN_LEN\",\n                ));\n            }\n\n            crate::ptr::copy_nonoverlapping(\n                name.as_ptr(),\n                addr.sun_path.as_mut_ptr().add(1) as *mut u8,\n                name.len(),\n            );\n            let len = (SUN_PATH_OFFSET + 1 + name.len()) as libc::socklen_t;\n            SocketAddr::from_parts(addr, len)\n        }\n    }"
}