{
  "name": "std::sys::fs::unix::link",
  "span": "$library/std/src/sys/fs/unix.rs:2062:1: 2062:60",
  "src": "pub fn link(original: &CStr, link: &CStr) -> io::Result<()> {\n    cfg_select! {\n        any(target_os = \"vxworks\", target_os = \"redox\", target_os = \"android\", target_os = \"espidf\", target_os = \"horizon\", target_os = \"vita\", target_env = \"nto70\") => {\n            // VxWorks, Redox and ESP-IDF lack `linkat`, so use `link` instead. POSIX leaves\n            // it implementation-defined whether `link` follows symlinks, so rely on the\n            // `symlink_hard_link` test in library/std/src/fs/tests.rs to check the behavior.\n            // Android has `linkat` on newer versions, but we happen to know `link`\n            // always has the correct behavior, so it's here as well.\n            cvt(unsafe { libc::link(original.as_ptr(), link.as_ptr()) })?;\n        }\n        _ => {\n            // Where we can, use `linkat` instead of `link`; see the comment above\n            // this one for details on why.\n            cvt(unsafe { libc::linkat(libc::AT_FDCWD, original.as_ptr(), libc::AT_FDCWD, link.as_ptr(), 0) })?;\n        }\n    }\n    Ok(())\n}"
}