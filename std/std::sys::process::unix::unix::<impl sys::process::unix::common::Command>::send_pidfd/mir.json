{
  "name": "std::sys::process::unix::unix::<impl sys::process::unix::common::Command>::send_pidfd",
  "span": "$library/std/src/sys/process/unix/unix.rs:832:5: 832:57",
  "mir": "fn std::sys::process::unix::unix::<impl sys::process::unix::common::Command>::send_pidfd(_1: &sys::process::unix::common::Command, _2: &sys::net::connection::socket::unix::Socket) -> () {\n    let mut _0: ();\n    let  _3: i32;\n    let  _4: i64;\n    let  _5: [i32; 1];\n    let mut _6: i32;\n    let mut _7: sys::process::unix::unix::<impl sys::process::unix::common::Command>::send_pidfd::Cmsg;\n    let mut _8: [io::IoSlice<'_>; 1];\n    let mut _9: io::IoSlice<'_>;\n    let mut _10: &[u8];\n    let mut _11: &[u8; 0];\n    let mut _12: libc::msghdr;\n    let mut _13: *mut libc::iovec;\n    let mut _14: *mut [io::IoSlice<'_>; 1];\n    let mut _15: bool;\n    let mut _16: usize;\n    let  _17: &[u8; 24];\n    let mut _18: *mut libc::c_void;\n    let mut _19: *mut [u8; 24];\n    let  _20: *mut libc::cmsghdr;\n    let mut _21: *const libc::msghdr;\n    let mut _22: *mut libc::msghdr;\n    let mut _23: usize;\n    let mut _24: u32;\n    let mut _25: u32;\n    let  _26: *mut u8;\n    let mut _27: *const libc::cmsghdr;\n    let  _28: ();\n    let mut _29: *const u8;\n    let mut _30: *const i32;\n    let mut _31: &[i32];\n    let mut _32: &[i32; 1];\n    let mut _33: core::result::Result<isize, io::error::Error>;\n    let mut _34: {closure@$library/std/src/sys/process/unix/unix.rs:882:25: 882:27};\n    let mut _35: &libc::msghdr;\n    let mut _36: isize;\n    let  _37: core::result::Result<isize, io::error::Error>;\n    let mut _38: core::option::Option<sys::stdio::unix::Stderr>;\n    let mut _39: isize;\n    let mut _40: sys::stdio::unix::Stderr;\n    let mut _41: core::result::Result<(), io::error::Error>;\n    let mut _42: &mut sys::stdio::unix::Stderr;\n    let mut _43: core::fmt::Arguments<'_>;\n    let  _44: (&core::result::Result<isize, io::error::Error>,);\n    let mut _45: &core::result::Result<isize, io::error::Error>;\n    let  _46: [core::fmt::rt::Argument<'_>; 1];\n    let mut _47: core::fmt::rt::Argument<'_>;\n    let mut _48: &[u8; 79];\n    let  _49: &[core::fmt::rt::Argument<'_>; 1];\n    let  _50: !;\n    let mut _51: &core::result::Result<isize, io::error::Error>;\n    let mut _52: *const ();\n    let mut _53: usize;\n    let mut _54: usize;\n    let mut _55: usize;\n    let mut _56: bool;\n    let mut _57: *const ();\n    let mut _58: usize;\n    let mut _59: usize;\n    let mut _60: usize;\n    let mut _61: bool;\n    let mut _62: *const ();\n    let mut _63: usize;\n    let mut _64: usize;\n    let mut _65: usize;\n    let mut _66: bool;\n    let mut _67: *const ();\n    let mut _68: usize;\n    let mut _69: bool;\n    let mut _70: bool;\n    let mut _71: bool;\n    let mut _72: bool;\n    let mut _73: *const ();\n    let mut _74: usize;\n    let mut _75: bool;\n    let mut _76: bool;\n    let mut _77: bool;\n    let mut _78: bool;\n    let mut _79: *const ();\n    let mut _80: usize;\n    let mut _81: bool;\n    let mut _82: bool;\n    let mut _83: bool;\n    let mut _84: bool;\n    debug self => _1;\n    debug sock => _2;\n    debug child_pid => _3;\n    debug pidfd => _4;\n    debug fds => _5;\n    debug cmsg => _7;\n    debug iov => _8;\n    debug msg => _12;\n    debug hdr => _20;\n    debug data => _26;\n    debug other => _37;\n    debug out => sys::stdio::unix::Stderr;\n    debug args => _44;\n    debug args => _46;\n    bb0: {\n        _3 = libc::getpid() -> [return: bb1, unwind unreachable];\n    }\n    bb1: {\n        _4 = libc::syscall(libc::SYS_pidfd_open, _3, 0_i32) -> [return: bb2, unwind unreachable];\n    }\n    bb2: {\n        StorageLive(_5);\n        StorageLive(_6);\n        _6 = _4 as i32;\n        _5 = [move _6];\n        StorageDead(_6);\n        StorageLive(_7);\n        _7 = core::mem::zeroed::<sys::process::unix::unix::<impl sys::process::unix::common::Command>::send_pidfd::Cmsg>() -> [return: bb3, unwind unreachable];\n    }\n    bb3: {\n        StorageLive(_8);\n        StorageLive(_9);\n        StorageLive(_10);\n        StorageLive(_11);\n        _11 = b\"\";\n        _10 = move _11 as &[u8];\n        StorageDead(_11);\n        _9 = io::IoSlice::<'_>::new(move _10) -> [return: bb4, unwind unreachable];\n    }\n    bb4: {\n        StorageDead(_10);\n        _8 = [move _9];\n        StorageDead(_9);\n        StorageLive(_12);\n        _12 = core::mem::zeroed::<libc::msghdr>() -> [return: bb5, unwind unreachable];\n    }\n    bb5: {\n        StorageLive(_14);\n        _14 = &raw mut _8;\n        _13 = move _14 as *mut libc::iovec;\n        StorageDead(_14);\n        (_12.2: *mut libc::iovec) = _13;\n        (_12.3: usize) = 1_usize;\n        StorageLive(_15);\n        _15 = Ge(_4, 0_i64);\n        switchInt(move _15) -> [0: bb14, otherwise: bb6];\n    }\n    bb6: {\n        _17 = &(_7.0: [u8; 24]);\n        _16 = core::mem::size_of_val::<[u8; 24]>(_17) -> [return: bb7, unwind unreachable];\n    }\n    bb7: {\n        (_12.5: usize) = _16;\n        StorageLive(_19);\n        _19 = &raw mut (_7.0: [u8; 24]);\n        _18 = move _19 as *mut libc::c_void;\n        StorageDead(_19);\n        (_12.4: *mut libc::c_void) = _18;\n        StorageLive(_21);\n        _22 = &raw mut _12;\n        _21 = _22 as *const libc::msghdr;\n        _20 = libc::CMSG_FIRSTHDR(move _21) -> [return: bb8, unwind unreachable];\n    }\n    bb8: {\n        StorageDead(_21);\n        _62 = _20 as *const ();\n        _63 = _62 as usize;\n        _64 = Sub(<libc::cmsghdr as core::mem::SizedTypeProperties>::ALIGN, 1_usize);\n        _65 = BitAnd(_63, _64);\n        _66 = Eq(_65, 0_usize);\n        assert(_66, \"misaligned pointer dereference: address must be a multiple of {} but is {}\",<libc::cmsghdr as core::mem::SizedTypeProperties>::ALIGN, _63) -> [success: bb31, unwind unreachable];\n    }\n    bb9: {\n        _23 = move _24 as usize;\n        StorageDead(_24);\n        _52 = _20 as *const ();\n        _53 = _52 as usize;\n        _54 = Sub(<libc::cmsghdr as core::mem::SizedTypeProperties>::ALIGN, 1_usize);\n        _55 = BitAnd(_53, _54);\n        _56 = Eq(_55, 0_usize);\n        assert(_56, \"misaligned pointer dereference: address must be a multiple of {} but is {}\",<libc::cmsghdr as core::mem::SizedTypeProperties>::ALIGN, _53) -> [success: bb29, unwind unreachable];\n    }\n    bb10: {\n        StorageDead(_27);\n        StorageLive(_29);\n        StorageLive(_30);\n        StorageLive(_31);\n        StorageLive(_32);\n        _32 = &_5;\n        _31 = move _32 as &[i32];\n        StorageDead(_32);\n        _30 = core::slice::<impl [i32]>::as_ptr(move _31) -> [return: bb11, unwind unreachable];\n    }\n    bb11: {\n        StorageDead(_31);\n        _29 = core::ptr::const_ptr::<impl *const i32>::cast::<u8>(move _30) -> [return: bb12, unwind unreachable];\n    }\n    bb12: {\n        StorageDead(_30);\n        _28 = core::ptr::copy_nonoverlapping::<u8>(move _29, _26, sys::process::unix::unix::<impl sys::process::unix::common::Command>::send_pidfd::SCM_MSG_LEN) -> [return: bb13, unwind unreachable];\n    }\n    bb13: {\n        StorageDead(_29);\n        goto -> bb15;\n    }\n    bb14: {\n        goto -> bb15;\n    }\n    bb15: {\n        StorageDead(_15);\n        StorageLive(_33);\n        StorageLive(_34);\n        StorageLive(_35);\n        _35 = &_12;\n        _34 = {closure@$library/std/src/sys/process/unix/unix.rs:882:25: 882:27}(_2, move _35);\n        StorageDead(_35);\n        _33 = sys::pal::unix::cvt_r::<isize, {closure@$library/std/src/sys/process/unix/unix.rs:882:25: 882:27}>(move _34) -> [return: bb16, unwind unreachable];\n    }\n    bb16: {\n        StorageDead(_34);\n        _36 = discriminant(_33);\n        switchInt(move _36) -> [0: bb18, 1: bb17, otherwise: bb35];\n    }\n    bb17: {\n        StorageLive(_37);\n        _37 = move _33;\n        StorageLive(_38);\n        _38 = sys::stdio::unix::panic_output() -> [return: bb20, unwind unreachable];\n    }\n    bb18: {\n        switchInt(((_33 as variant#0).0: isize)) -> [0: bb19, otherwise: bb17];\n    }\n    bb19: {\n        drop(_33) -> [return: bb28, unwind unreachable];\n    }\n    bb20: {\n        _39 = discriminant(_38);\n        switchInt(move _39) -> [1: bb21, 0: bb26, otherwise: bb35];\n    }\n    bb21: {\n        StorageLive(_41);\n        _42 = &mut _40;\n        StorageLive(_43);\n        StorageLive(_44);\n        StorageLive(_45);\n        _45 = &_37;\n        _44 = (move _45);\n        StorageDead(_45);\n        StorageLive(_46);\n        StorageLive(_47);\n        _51 = (_44.0: &core::result::Result<isize, io::error::Error>);\n        _47 = core::fmt::rt::Argument::<'_>::new_debug::<core::result::Result<isize, io::error::Error>>(_51) -> [return: bb22, unwind unreachable];\n    }\n    bb22: {\n        _46 = [move _47];\n        StorageDead(_47);\n        StorageLive(_48);\n        _48 = b\"@fatal runtime error: failed to communicate with parent process. \\xc0\\x0b, aborting\\n\\x00\";\n        _49 = &_46;\n        _43 = core::fmt::Arguments::<'_>::new::<79, 1>(move _48, _49) -> [return: bb23, unwind unreachable];\n    }\n    bb23: {\n        StorageDead(_48);\n        _41 = <sys::stdio::unix::Stderr as io::Write>::write_fmt(_42, move _43) -> [return: bb24, unwind unreachable];\n    }\n    bb24: {\n        StorageDead(_43);\n        drop(_41) -> [return: bb25, unwind unreachable];\n    }\n    bb25: {\n        StorageDead(_46);\n        StorageDead(_44);\n        StorageDead(_41);\n        StorageDead(_38);\n        goto -> bb27;\n    }\n    bb26: {\n        StorageDead(_38);\n        goto -> bb27;\n    }\n    bb27: {\n        _50 = process::abort() -> unwind unreachable;\n    }\n    bb28: {\n        StorageDead(_33);\n        StorageDead(_12);\n        StorageDead(_8);\n        StorageDead(_7);\n        StorageDead(_5);\n        return;\n    }\n    bb29: {\n        _79 = _20 as *const ();\n        _80 = _79 as usize;\n        _81 = Ne(<libc::cmsghdr as core::mem::SizedTypeProperties>::SIZE, 0_usize);\n        _82 = Eq(_80, 0_usize);\n        _83 = BitAnd(_82, _81);\n        _84 = Not(_83);\n        assert(_84, \"null pointer dereference occurred\") -> [success: bb34, unwind unreachable];\n    }\n    bb30: {\n        _73 = _20 as *const ();\n        _74 = _73 as usize;\n        _75 = Ne(<libc::cmsghdr as core::mem::SizedTypeProperties>::SIZE, 0_usize);\n        _76 = Eq(_74, 0_usize);\n        _77 = BitAnd(_76, _75);\n        _78 = Not(_77);\n        assert(_78, \"null pointer dereference occurred\") -> [success: bb33, unwind unreachable];\n    }\n    bb31: {\n        _67 = _20 as *const ();\n        _68 = _67 as usize;\n        _69 = Ne(<libc::cmsghdr as core::mem::SizedTypeProperties>::SIZE, 0_usize);\n        _70 = Eq(_68, 0_usize);\n        _71 = BitAnd(_70, _69);\n        _72 = Not(_71);\n        assert(_72, \"null pointer dereference occurred\") -> [success: bb32, unwind unreachable];\n    }\n    bb32: {\n        ((*_20).1: i32) = libc::SOL_SOCKET;\n        _57 = _20 as *const ();\n        _58 = _57 as usize;\n        _59 = Sub(<libc::cmsghdr as core::mem::SizedTypeProperties>::ALIGN, 1_usize);\n        _60 = BitAnd(_58, _59);\n        _61 = Eq(_60, 0_usize);\n        assert(_61, \"misaligned pointer dereference: address must be a multiple of {} but is {}\",<libc::cmsghdr as core::mem::SizedTypeProperties>::ALIGN, _58) -> [success: bb30, unwind unreachable];\n    }\n    bb33: {\n        ((*_20).2: i32) = libc::SCM_RIGHTS;\n        StorageLive(_24);\n        _25 = sys::process::unix::unix::<impl sys::process::unix::common::Command>::send_pidfd::SCM_MSG_LEN as u32;\n        _24 = libc::CMSG_LEN(_25) -> [return: bb9, unwind unreachable];\n    }\n    bb34: {\n        ((*_20).0: usize) = _23;\n        StorageLive(_27);\n        _27 = _20 as *const libc::cmsghdr;\n        _26 = libc::CMSG_DATA(move _27) -> [return: bb10, unwind unreachable];\n    }\n    bb35: {\n        unreachable;\n    }\n}\n"
}