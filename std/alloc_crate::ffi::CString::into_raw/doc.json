{
  "name": "alloc_crate::ffi::CString::into_raw",
  "span": "$library/alloc/src/ffi/c_str.rs:450:5: 450:41",
  "doc": " Consumes the `CString` and transfers ownership of the string to a C caller.\n\n The pointer which this function returns must be returned to Rust and reconstituted using\n [`CString::from_raw`] to be properly deallocated. Specifically, one\n should *not* use the standard C `free()` function to deallocate\n this string.\n\n Failure to call [`CString::from_raw`] will lead to a memory leak.\n\n The C side must **not** modify the length of the string (by writing a\n nul byte somewhere inside the string or removing the final one) before\n it makes it back into Rust using [`CString::from_raw`]. See the safety section\n in [`CString::from_raw`].\n\n # Examples\n\n ```\n use std::ffi::CString;\n\n let c_string = CString::from(c\"foo\");\n\n let ptr = c_string.into_raw();\n\n unsafe {\n     assert_eq!(b'f', *ptr as u8);\n     assert_eq!(b'o', *ptr.add(1) as u8);\n     assert_eq!(b'o', *ptr.add(2) as u8);\n     assert_eq!(b'\\0', *ptr.add(3) as u8);\n\n     // retake pointer to free memory\n     let _ = CString::from_raw(ptr);\n }\n ```\n"
}