{
  "name": "std::sys::fs::unix::remove_dir_impl::fdreaddir",
  "span": "$library/std/src/sys/fs/unix.rs:2475:5: 2475:66",
  "src": "fn fdreaddir(dir_fd: OwnedFd) -> io::Result<(ReadDir, RawFd)> {\n        let ptr = unsafe { fdopendir(dir_fd.as_raw_fd()) };\n        if ptr.is_null() {\n            return Err(io::Error::last_os_error());\n        }\n        let dirp = Dir(ptr);\n        // file descriptor is automatically closed by libc::closedir() now, so give up ownership\n        let new_parent_fd = dir_fd.into_raw_fd();\n        // a valid root is not needed because we do not call any functions involving the full path\n        // of the `DirEntry`s.\n        let dummy_root = PathBuf::new();\n        let inner = InnerReadDir { dirp, root: dummy_root };\n        Ok((ReadDir::new(inner), new_parent_fd))\n    }"
}