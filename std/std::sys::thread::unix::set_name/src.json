{
  "name": "std::sys::thread::unix::set_name",
  "span": "$library/std/src/sys/thread/unix.rs:424:1: 424:29",
  "src": "pub fn set_name(name: &CStr) {\n    unsafe {\n        cfg_select! {\n            any(target_os = \"linux\", target_os = \"cygwin\") => {\n                // Linux and Cygwin limits the allowed length of the name.\n                const TASK_COMM_LEN: usize = 16;\n                let name = truncate_cstr::<{ TASK_COMM_LEN }>(name);\n            }\n            _ => {\n                // FreeBSD, DragonFly BSD and NuttX do not enforce length limits.\n            }\n        };\n        // Available since glibc 2.12, musl 1.1.16, and uClibc 1.0.20 for Linux,\n        // FreeBSD 12.2 and 13.0, and DragonFly BSD 6.0.\n        let res = libc::pthread_setname_np(libc::pthread_self(), name.as_ptr());\n        // We have no good way of propagating errors here, but in debug-builds let's check that this actually worked.\n        debug_assert_eq!(res, 0);\n    }\n}"
}