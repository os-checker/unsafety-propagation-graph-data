{
  "name": "std::os::unix::net::ancillary::SocketAncillary::<'a>::add_fds",
  "span": "$library/std/src/os/unix/net/ancillary.rs:715:5: 715:53",
  "doc": " Add file descriptors to the ancillary data.\n\n The function returns `true` if there was enough space in the buffer.\n If there was not enough space then no file descriptors was appended.\n Technically, that means this operation adds a control message with the level `SOL_SOCKET`\n and type `SCM_RIGHTS`.\n\n # Example\n\n ```no_run\n #![feature(unix_socket_ancillary_data)]\n use std::os::unix::net::{UnixStream, SocketAncillary};\n use std::os::unix::io::AsRawFd;\n use std::io::IoSlice;\n\n fn main() -> std::io::Result<()> {\n     let sock = UnixStream::connect(\"/tmp/sock\")?;\n\n     let mut ancillary_buffer = [0; 128];\n     let mut ancillary = SocketAncillary::new(&mut ancillary_buffer[..]);\n     ancillary.add_fds(&[sock.as_raw_fd()][..]);\n\n     let buf = [1; 8];\n     let mut bufs = &mut [IoSlice::new(&buf[..])][..];\n     sock.send_vectored_with_ancillary(bufs, &mut ancillary)?;\n     Ok(())\n }\n ```\n"
}