{
  "name": "alloc_crate::vec::Vec::<T, A>::leak",
  "span": "$library/alloc/src/vec/mod.rs:3016:5: 3018:15",
  "doc": " Consumes and leaks the `Vec`, returning a mutable reference to the contents,\n `&'a mut [T]`.\n\n Note that the type `T` must outlive the chosen lifetime `'a`. If the type\n has only static references, or none at all, then this may be chosen to be\n `'static`.\n\n As of Rust 1.57, this method does not reallocate or shrink the `Vec`,\n so the leaked allocation may include unused capacity that is not part\n of the returned slice.\n\n This function is mainly useful for data that lives for the remainder of\n the program's life. Dropping the returned reference will cause a memory\n leak.\n\n # Examples\n\n Simple usage:\n\n ```\n let x = vec![1, 2, 3];\n let static_ref: &'static mut [usize] = x.leak();\n static_ref[0] += 1;\n assert_eq!(static_ref, &[2, 2, 3]);\n # // FIXME(https://github.com/rust-lang/miri/issues/3670):\n # // use -Zmiri-disable-leak-check instead of unleaking in tests meant to leak.\n # drop(unsafe { Box::from_raw(static_ref) });\n ```\n"
}