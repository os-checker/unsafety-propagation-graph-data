{
  "name": "std::os::fd::owned::BorrowedFd::<'_>::try_clone_to_owned",
  "span": "$library/std/src/os/fd/owned.rs:109:5: 109:67",
  "src": "pub fn try_clone_to_owned(&self) -> crate::io::Result<OwnedFd> {\n        // We want to atomically duplicate this file descriptor and set the\n        // CLOEXEC flag, and currently that's done via F_DUPFD_CLOEXEC. This\n        // is a POSIX flag that was added to Linux in 2.6.24.\n        #[cfg(not(any(target_os = \"espidf\", target_os = \"vita\")))]\n        let cmd = libc::F_DUPFD_CLOEXEC;\n\n        // For ESP-IDF, F_DUPFD is used instead, because the CLOEXEC semantics\n        // will never be supported, as this is a bare metal framework with\n        // no capabilities for multi-process execution. While F_DUPFD is also\n        // not supported yet, it might be (currently it returns ENOSYS).\n        #[cfg(any(target_os = \"espidf\", target_os = \"vita\"))]\n        let cmd = libc::F_DUPFD;\n\n        // Avoid using file descriptors below 3 as they are used for stdio\n        let fd = cvt(unsafe { libc::fcntl(self.as_raw_fd(), cmd, 3) })?;\n        Ok(unsafe { OwnedFd::from_raw_fd(fd) })\n    }"
}