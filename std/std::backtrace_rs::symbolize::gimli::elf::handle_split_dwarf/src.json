{
  "name": "std::backtrace_rs::symbolize::gimli::elf::handle_split_dwarf",
  "span": "$library/std/src/../../backtrace/src/symbolize/gimli/elf.rs:530:1: 534:59",
  "src": "pub(super) fn handle_split_dwarf<'data>(\n    package: Option<&gimli::DwarfPackage<EndianSlice<'data, Endian>>>,\n    stash: &'data Stash,\n    load: addr2line::SplitDwarfLoad<EndianSlice<'data, Endian>>,\n) -> Option<Arc<gimli::Dwarf<EndianSlice<'data, Endian>>>> {\n    if let Some(dwp) = package.as_ref() {\n        if let Ok(Some(cu)) = dwp.find_cu(load.dwo_id, &load.parent) {\n            return Some(Arc::new(cu));\n        }\n    }\n\n    let mut path = PathBuf::new();\n    if let Some(p) = load.comp_dir.as_ref() {\n        path.push(OsStr::from_bytes(&p));\n    }\n\n    path.push(OsStr::from_bytes(&load.path.as_ref()?));\n\n    if let Some(map_dwo) = super::mmap(&path) {\n        let map_dwo = stash.cache_mmap(map_dwo);\n        if let Some(dwo) = Object::parse(map_dwo) {\n            return gimli::Dwarf::load(|id| -> Result<_, ()> {\n                let data = id\n                    .dwo_name()\n                    .and_then(|name| dwo.section(stash, name))\n                    .unwrap_or(&[]);\n                Ok(EndianSlice::new(data, Endian))\n            })\n            .ok()\n            .map(|mut dwo_dwarf| {\n                dwo_dwarf.make_dwo(&load.parent);\n                Arc::new(dwo_dwarf)\n            });\n        }\n    }\n\n    None\n}"
}