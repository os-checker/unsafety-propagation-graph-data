{
  "name": "std::sys::env::unix::getenv",
  "span": "$library/std/src/sys/env/unix.rs:92:1: 92:45",
  "src": "pub fn getenv(k: &OsStr) -> Option<OsString> {\n    // environment variables with a nul byte can't be set, so their value is\n    // always None as well\n    run_with_cstr(k.as_bytes(), &|k| {\n        let _guard = env_read_lock();\n        let v = unsafe { libc::getenv(k.as_ptr()) } as *const libc::c_char;\n\n        if v.is_null() {\n            Ok(None)\n        } else {\n            // SAFETY: `v` cannot be mutated while executing this line since we've a read lock\n            let bytes = unsafe { CStr::from_ptr(v) }.to_bytes().to_vec();\n\n            Ok(Some(OsStringExt::from_vec(bytes)))\n        }\n    })\n    .ok()\n    .flatten()\n}"
}