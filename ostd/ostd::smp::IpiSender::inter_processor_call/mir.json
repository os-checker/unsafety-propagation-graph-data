{
  "name": "ostd::smp::IpiSender::inter_processor_call",
  "span": "ostd/src/smp.rs:56:5: 56:73",
  "mir": "fn ostd::smp::IpiSender::inter_processor_call(_1: &smp::IpiSender, _2: &util::id_set::IdSet<cpu::id::CpuId>, _3: fn()) -> () {\n    let mut _0: ();\n    let  _4: irq::guard::DisabledLocalIrqGuard;\n    let  _5: cpu::id::CpuId;\n    let mut _6: &irq::guard::DisabledLocalIrqGuard;\n    let mut _7: bool;\n    let mut _8: core::iter::Map<bitvec::slice::IterOnes<'_, u64, bitvec::order::Lsb0>, {closure@ostd/src/util/id_set.rs:268:18: 268:31}>;\n    let mut _9: core::iter::Map<bitvec::slice::IterOnes<'_, u64, bitvec::order::Lsb0>, {closure@ostd/src/util/id_set.rs:268:18: 268:31}>;\n    let mut _10: core::iter::Map<bitvec::slice::IterOnes<'_, u64, bitvec::order::Lsb0>, {closure@ostd/src/util/id_set.rs:268:18: 268:31}>;\n    let mut _11: core::option::Option<cpu::id::CpuId>;\n    let mut _12: &mut core::iter::Map<bitvec::slice::IterOnes<'_, u64, bitvec::order::Lsb0>, {closure@ostd/src/util/id_set.rs:268:18: 268:31}>;\n    let mut _13: isize;\n    let  _14: cpu::id::CpuId;\n    let mut _15: bool;\n    let mut _16: &cpu::id::CpuId;\n    let mut _17: &cpu::id::CpuId;\n    let  _18: ();\n    let mut _19: &mut alloc::collections::VecDeque<fn()>;\n    let mut _20: &mut sync::spin::SpinLockGuard<'_, alloc::collections::VecDeque<fn()>, sync::guard::PreemptDisabled>;\n    let mut _21: sync::spin::SpinLockGuard<'_, alloc::collections::VecDeque<fn()>, sync::guard::PreemptDisabled>;\n    let  _22: &sync::spin::SpinLock<alloc::collections::VecDeque<fn()>>;\n    let mut _23: &cpu::local::CpuLocal<sync::spin::SpinLock<alloc::collections::VecDeque<fn()>>, cpu::local::static_cpu_local::StaticStorage<sync::spin::SpinLock<alloc::collections::VecDeque<fn()>>>>;\n    let mut _24: core::iter::Map<bitvec::slice::IterOnes<'_, u64, bitvec::order::Lsb0>, {closure@ostd/src/util/id_set.rs:268:18: 268:31}>;\n    let mut _25: core::iter::Map<bitvec::slice::IterOnes<'_, u64, bitvec::order::Lsb0>, {closure@ostd/src/util/id_set.rs:268:18: 268:31}>;\n    let mut _26: core::iter::Map<bitvec::slice::IterOnes<'_, u64, bitvec::order::Lsb0>, {closure@ostd/src/util/id_set.rs:268:18: 268:31}>;\n    let mut _27: core::option::Option<cpu::id::CpuId>;\n    let mut _28: &mut core::iter::Map<bitvec::slice::IterOnes<'_, u64, bitvec::order::Lsb0>, {closure@ostd/src/util/id_set.rs:268:18: 268:31}>;\n    let mut _29: isize;\n    let  _30: cpu::id::CpuId;\n    let mut _31: bool;\n    let mut _32: &cpu::id::CpuId;\n    let mut _33: &cpu::id::CpuId;\n    let  _34: arch::irq::ipi::HwCpuId;\n    let  _35: usize;\n    let mut _36: usize;\n    let mut _37: bool;\n    let  _38: ();\n    let mut _39: &dyn cpu::id::current::PinCurrentCpu;\n    let  _40: &irq::guard::DisabledLocalIrqGuard;\n    let mut _41: bool;\n    let  _42: ();\n    let mut _43: alloc::boxed::Box<[arch::irq::ipi::HwCpuId]>;\n    let mut _44: alloc::boxed::Box<[arch::irq::ipi::HwCpuId]>;\n    let mut _45: *const [arch::irq::ipi::HwCpuId];\n    let mut _46: *const [arch::irq::ipi::HwCpuId];\n    debug self => _1;\n    debug targets => _2;\n    debug f => _3;\n    debug irq_guard => _4;\n    debug this_cpu_id => _5;\n    debug call_on_self => _7;\n    debug iter => _10;\n    debug cpu_id => _14;\n    debug iter => _26;\n    debug cpu_id => _30;\n    debug hw_cpu_id => _34;\n    bb0: {\n        StorageLive(_4);\n        _4 = irq::guard::disable_local() -> [return: bb1, unwind unreachable];\n    }\n    bb1: {\n        StorageLive(_5);\n        StorageLive(_6);\n        _6 = &_4;\n        _5 = <irq::guard::DisabledLocalIrqGuard as cpu::id::current::PinCurrentCpu>::current_cpu(move _6) -> [return: bb2, unwind unreachable];\n    }\n    bb2: {\n        StorageDead(_6);\n        StorageLive(_7);\n        _7 = false;\n        StorageLive(_8);\n        StorageLive(_9);\n        _9 = util::id_set::IdSet::<cpu::id::CpuId>::iter(_2) -> [return: bb3, unwind unreachable];\n    }\n    bb3: {\n        _8 = <core::iter::Map<bitvec::slice::IterOnes<'_, u64, bitvec::order::Lsb0>, {closure@ostd/src/util/id_set.rs:268:18: 268:31}> as core::iter::IntoIterator>::into_iter(move _9) -> [return: bb4, unwind unreachable];\n    }\n    bb4: {\n        StorageDead(_9);\n        StorageLive(_10);\n        _10 = move _8;\n        goto -> bb5;\n    }\n    bb5: {\n        StorageLive(_11);\n        _12 = &mut _10;\n        _11 = <core::iter::Map<bitvec::slice::IterOnes<'_, u64, bitvec::order::Lsb0>, {closure@ostd/src/util/id_set.rs:268:18: 268:31}> as core::iter::Iterator>::next(_12) -> [return: bb6, unwind unreachable];\n    }\n    bb6: {\n        _13 = discriminant(_11);\n        switchInt(move _13) -> [0: bb9, 1: bb8, otherwise: bb7];\n    }\n    bb7: {\n        unreachable;\n    }\n    bb8: {\n        _14 = ((_11 as variant#1).0: cpu::id::CpuId);\n        StorageLive(_15);\n        StorageLive(_16);\n        _16 = &_14;\n        StorageLive(_17);\n        _17 = &_5;\n        _15 = <cpu::id::CpuId as core::cmp::PartialEq>::eq(move _16, move _17) -> [return: bb10, unwind unreachable];\n    }\n    bb9: {\n        StorageDead(_11);\n        StorageDead(_10);\n        StorageDead(_8);\n        StorageLive(_24);\n        StorageLive(_25);\n        _25 = util::id_set::IdSet::<cpu::id::CpuId>::iter(_2) -> [return: bb18, unwind unreachable];\n    }\n    bb10: {\n        switchInt(move _15) -> [0: bb12, otherwise: bb11];\n    }\n    bb11: {\n        StorageDead(_17);\n        StorageDead(_16);\n        _7 = true;\n        StorageDead(_15);\n        StorageDead(_11);\n        goto -> bb5;\n    }\n    bb12: {\n        StorageDead(_17);\n        StorageDead(_16);\n        StorageDead(_15);\n        StorageLive(_20);\n        StorageLive(_21);\n        StorageLive(_23);\n        _23 = {alloc1434: &cpu::local::CpuLocal<sync::spin::SpinLock<alloc::collections::VecDeque<fn()>>, cpu::local::static_cpu_local::StaticStorage<sync::spin::SpinLock<alloc::collections::VecDeque<fn()>>>>};\n        _22 = cpu::local::CpuLocal::<sync::spin::SpinLock<alloc::collections::VecDeque<fn()>>, cpu::local::static_cpu_local::StaticStorage<sync::spin::SpinLock<alloc::collections::VecDeque<fn()>>>>::get_on_cpu(move _23, _14) -> [return: bb13, unwind unreachable];\n    }\n    bb13: {\n        StorageDead(_23);\n        _21 = sync::spin::SpinLock::<alloc::collections::VecDeque<fn()>>::lock(_22) -> [return: bb14, unwind unreachable];\n    }\n    bb14: {\n        _20 = &mut _21;\n        _19 = <sync::spin::SpinLockGuard<'_, alloc::collections::VecDeque<fn()>, sync::guard::PreemptDisabled> as core::ops::DerefMut>::deref_mut(move _20) -> [return: bb15, unwind unreachable];\n    }\n    bb15: {\n        StorageDead(_20);\n        _18 = alloc::collections::VecDeque::<fn()>::push_back(_19, _3) -> [return: bb16, unwind unreachable];\n    }\n    bb16: {\n        drop(_21) -> [return: bb17, unwind unreachable];\n    }\n    bb17: {\n        StorageDead(_21);\n        StorageDead(_11);\n        goto -> bb5;\n    }\n    bb18: {\n        _24 = <core::iter::Map<bitvec::slice::IterOnes<'_, u64, bitvec::order::Lsb0>, {closure@ostd/src/util/id_set.rs:268:18: 268:31}> as core::iter::IntoIterator>::into_iter(move _25) -> [return: bb19, unwind unreachable];\n    }\n    bb19: {\n        StorageDead(_25);\n        StorageLive(_26);\n        _26 = move _24;\n        goto -> bb20;\n    }\n    bb20: {\n        StorageLive(_27);\n        _28 = &mut _26;\n        _27 = <core::iter::Map<bitvec::slice::IterOnes<'_, u64, bitvec::order::Lsb0>, {closure@ostd/src/util/id_set.rs:268:18: 268:31}> as core::iter::Iterator>::next(_28) -> [return: bb21, unwind unreachable];\n    }\n    bb21: {\n        _29 = discriminant(_27);\n        switchInt(move _29) -> [0: bb23, 1: bb22, otherwise: bb7];\n    }\n    bb22: {\n        _30 = ((_27 as variant#1).0: cpu::id::CpuId);\n        StorageLive(_31);\n        StorageLive(_32);\n        _32 = &_30;\n        StorageLive(_33);\n        _33 = &_5;\n        _31 = <cpu::id::CpuId as core::cmp::PartialEq>::eq(move _32, move _33) -> [return: bb24, unwind unreachable];\n    }\n    bb23: {\n        StorageDead(_27);\n        StorageDead(_26);\n        StorageDead(_24);\n        StorageLive(_41);\n        _41 = _7;\n        switchInt(move _41) -> [0: bb32, otherwise: bb30];\n    }\n    bb24: {\n        switchInt(move _31) -> [0: bb26, otherwise: bb25];\n    }\n    bb25: {\n        StorageDead(_33);\n        StorageDead(_32);\n        StorageDead(_31);\n        StorageDead(_27);\n        goto -> bb20;\n    }\n    bb26: {\n        StorageDead(_33);\n        StorageDead(_32);\n        StorageDead(_31);\n        StorageLive(_35);\n        _35 = <cpu::id::CpuId as util::id_set::Id>::as_usize(_30) -> [return: bb27, unwind unreachable];\n    }\n    bb27: {\n        _43 = ((*_1).0: alloc::boxed::Box<[arch::irq::ipi::HwCpuId]>);\n        _45 = ((_43.0: core::ptr::Unique<[arch::irq::ipi::HwCpuId]>).0: core::ptr::NonNull<[arch::irq::ipi::HwCpuId]>) as *const [arch::irq::ipi::HwCpuId];\n        _36 = PtrMetadata(_45);\n        _37 = Lt(_35, _36);\n        assert(move _37, \"index out of bounds: the length is {} but the index is {}\", move _36, _35) -> [success: bb28, unwind unreachable];\n    }\n    bb28: {\n        _44 = ((*_1).0: alloc::boxed::Box<[arch::irq::ipi::HwCpuId]>);\n        _46 = ((_44.0: core::ptr::Unique<[arch::irq::ipi::HwCpuId]>).0: core::ptr::NonNull<[arch::irq::ipi::HwCpuId]>) as *const [arch::irq::ipi::HwCpuId];\n        _34 = (*_46)[_35];\n        StorageDead(_35);\n        _40 = &_4;\n        _39 = _40 as &dyn cpu::id::current::PinCurrentCpu;\n        _38 = arch::irq::ipi::send_ipi(_34, _39) -> [return: bb29, unwind unreachable];\n    }\n    bb29: {\n        StorageDead(_27);\n        goto -> bb20;\n    }\n    bb30: {\n        _42 = _3() -> [return: bb31, unwind unreachable];\n    }\n    bb31: {\n        goto -> bb32;\n    }\n    bb32: {\n        StorageDead(_41);\n        StorageDead(_7);\n        StorageDead(_5);\n        drop(_4) -> [return: bb33, unwind unreachable];\n    }\n    bb33: {\n        StorageDead(_4);\n        return;\n    }\n}\n"
}