{
  "name": "ostd::irq::top_half::IrqLine::on_active",
  "span": "ostd/src/irq/top_half.rs:78:5: 80:51",
  "mir": "fn ostd::irq::top_half::IrqLine::on_active(_1: &mut irq::top_half::IrqLine, _2: F) -> () {\n    let mut _0: ();\n    let  _3: irq::top_half::CallbackHandle;\n    let  _4: alloc::boxed::Box<F>;\n    let  _5: usize;\n    let mut _6: *const F;\n    let  _7: &F;\n    let mut _8: sync::rwlock::RwLockWriteGuard<'_, alloc::vec::Vec<alloc::boxed::Box<dyn for<'a> core::ops::Fn(&'a arch::trap::TrapFrame) + core::marker::Send + core::marker::Sync>>, sync::guard::WriteIrqDisabled>;\n    let mut _9: &sync::rwlock::RwLock<alloc::vec::Vec<alloc::boxed::Box<dyn for<'a> core::ops::Fn(&'a arch::trap::TrapFrame) + core::marker::Send + core::marker::Sync>>, sync::guard::WriteIrqDisabled>;\n    let  _10: &irq::top_half::Inner;\n    let  _11: &irq::top_half::InnerHandle;\n    let mut _12: &alloc::sync::Arc<irq::top_half::InnerHandle>;\n    let  _13: ();\n    let mut _14: &mut alloc::vec::Vec<alloc::boxed::Box<dyn for<'a> core::ops::Fn(&'a arch::trap::TrapFrame) + core::marker::Send + core::marker::Sync>>;\n    let mut _15: &mut sync::rwlock::RwLockWriteGuard<'_, alloc::vec::Vec<alloc::boxed::Box<dyn for<'a> core::ops::Fn(&'a arch::trap::TrapFrame) + core::marker::Send + core::marker::Sync>>, sync::guard::WriteIrqDisabled>;\n    let mut _16: alloc::boxed::Box<dyn for<'a> core::ops::Fn(&'a arch::trap::TrapFrame) + core::marker::Send + core::marker::Sync>;\n    let mut _17: u8;\n    let mut _18: &irq::top_half::InnerHandle;\n    let mut _19: &alloc::sync::Arc<irq::top_half::InnerHandle>;\n    let  _20: ();\n    let mut _21: &mut alloc::vec::Vec<irq::top_half::CallbackHandle>;\n    let mut _22: *const F;\n    debug self => _1;\n    debug callback => _2;\n    debug callback_handle => _3;\n    debug callback_box => _4;\n    debug callback_addr => _5;\n    debug callbacks => _8;\n    bb0: {\n        _4 = alloc::boxed::Box::<F>::new(_2) -> [return: bb1, unwind unreachable];\n    }\n    bb1: {\n        StorageLive(_6);\n        _22 = ((_4.0: core::ptr::Unique<F>).0: core::ptr::NonNull<F>) as *const F;\n        _7 = &(*_22);\n        _6 = core::ptr::from_ref::<F>(_7) -> [return: bb2, unwind unreachable];\n    }\n    bb2: {\n        _5 = core::ptr::const_ptr::<impl *const F>::addr(move _6) -> [return: bb3, unwind unreachable];\n    }\n    bb3: {\n        StorageDead(_6);\n        StorageLive(_8);\n        StorageLive(_9);\n        StorageLive(_10);\n        StorageLive(_12);\n        _12 = &((*_1).0: alloc::sync::Arc<irq::top_half::InnerHandle>);\n        _11 = <alloc::sync::Arc<irq::top_half::InnerHandle> as core::ops::Deref>::deref(move _12) -> [return: bb4, unwind unreachable];\n    }\n    bb4: {\n        _10 = <irq::top_half::InnerHandle as core::ops::Deref>::deref(_11) -> [return: bb5, unwind unreachable];\n    }\n    bb5: {\n        StorageDead(_12);\n        _9 = &((*_10).0: sync::rwlock::RwLock<alloc::vec::Vec<alloc::boxed::Box<dyn for<'a> core::ops::Fn(&'a arch::trap::TrapFrame) + core::marker::Send + core::marker::Sync>>, sync::guard::WriteIrqDisabled>);\n        _8 = sync::rwlock::RwLock::<alloc::vec::Vec<alloc::boxed::Box<dyn for<'a> core::ops::Fn(&'a arch::trap::TrapFrame) + core::marker::Send + core::marker::Sync>>, sync::guard::WriteIrqDisabled>::write(move _9) -> [return: bb6, unwind unreachable];\n    }\n    bb6: {\n        StorageDead(_9);\n        StorageDead(_10);\n        StorageLive(_15);\n        _15 = &mut _8;\n        _14 = <sync::rwlock::RwLockWriteGuard<'_, alloc::vec::Vec<alloc::boxed::Box<dyn for<'a> core::ops::Fn(&'a arch::trap::TrapFrame) + core::marker::Send + core::marker::Sync>>, sync::guard::WriteIrqDisabled> as core::ops::DerefMut>::deref_mut(move _15) -> [return: bb7, unwind unreachable];\n    }\n    bb7: {\n        StorageDead(_15);\n        StorageLive(_16);\n        _16 = _4 as alloc::boxed::Box<dyn for<'a> core::ops::Fn(&'a arch::trap::TrapFrame) + core::marker::Send + core::marker::Sync>;\n        _13 = alloc::vec::Vec::<alloc::boxed::Box<dyn for<'a> core::ops::Fn(&'a arch::trap::TrapFrame) + core::marker::Send + core::marker::Sync>>::push(_14, move _16) -> [return: bb8, unwind unreachable];\n    }\n    bb8: {\n        StorageDead(_16);\n        StorageLive(_17);\n        StorageLive(_18);\n        StorageLive(_19);\n        _19 = &((*_1).0: alloc::sync::Arc<irq::top_half::InnerHandle>);\n        _18 = <alloc::sync::Arc<irq::top_half::InnerHandle> as core::ops::Deref>::deref(move _19) -> [return: bb9, unwind unreachable];\n    }\n    bb9: {\n        StorageDead(_19);\n        _17 = ((*_18).0: u8);\n        _3 = CallbackHandle(move _17, _5);\n        StorageDead(_18);\n        StorageDead(_17);\n        drop(_8) -> [return: bb10, unwind unreachable];\n    }\n    bb10: {\n        StorageDead(_8);\n        StorageLive(_21);\n        _21 = &mut ((*_1).1: alloc::vec::Vec<irq::top_half::CallbackHandle>);\n        _20 = alloc::vec::Vec::<irq::top_half::CallbackHandle>::push(move _21, _3) -> [return: bb11, unwind unreachable];\n    }\n    bb11: {\n        StorageDead(_21);\n        return;\n    }\n}\n"
}