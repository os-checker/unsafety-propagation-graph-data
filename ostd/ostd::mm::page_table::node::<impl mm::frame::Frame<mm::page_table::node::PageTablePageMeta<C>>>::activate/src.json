{
  "name": "ostd::mm::page_table::node::<impl mm::frame::Frame<mm::page_table::node::PageTablePageMeta<C>>>::activate",
  "span": "ostd/src/mm/page_table/node/mod.rs:98:5: 98:41",
  "src": "pub(crate) unsafe fn activate(&self) {\n        use crate::{\n            arch::mm::{activate_page_table, current_page_table_paddr},\n            mm::CachePolicy,\n        };\n\n        assert_eq!(self.level(), C::NR_LEVELS);\n\n        let last_activated_paddr = current_page_table_paddr();\n        if last_activated_paddr == self.paddr() {\n            return;\n        }\n\n        // SAFETY: The safety is upheld by the caller.\n        unsafe { activate_page_table(self.clone().into_raw(), CachePolicy::Writeback) };\n\n        // Restore and drop the last activated page table.\n        // SAFETY: The physical address is valid and points to a forgotten page table node.\n        drop(unsafe { Self::from_raw(last_activated_paddr) });\n    }"
}