{
  "name": "ostd::arch::mm::tlb_flush_all_including_global",
  "span": "ostd/src/arch/x86/mm/mod.rs:107:1: 107:47",
  "src": "pub(crate) fn tlb_flush_all_including_global() {\n    // SAFETY: updates to CR4 here only change the global-page bit, the side effect\n    // is only to invalidate the TLB, which doesn't affect the memory safety.\n    unsafe {\n        // To invalidate all entries, including global-page\n        // entries, disable global-page extensions (CR4.PGE=0).\n        x86_64::registers::control::Cr4::update(|cr4| {\n            *cr4 -= x86_64::registers::control::Cr4Flags::PAGE_GLOBAL;\n        });\n        x86_64::registers::control::Cr4::update(|cr4| {\n            *cr4 |= x86_64::registers::control::Cr4Flags::PAGE_GLOBAL;\n        });\n    }\n}"
}