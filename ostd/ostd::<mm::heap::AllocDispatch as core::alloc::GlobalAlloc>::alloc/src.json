{
  "name": "ostd::<mm::heap::AllocDispatch as core::alloc::GlobalAlloc>::alloc",
  "span": "ostd/src/mm/heap/mod.rs:101:5: 101:54",
  "src": "unsafe fn alloc(&self, layout: Layout) -> *mut u8 {\n        let Some(required_slot) = slot_size_from_layout(layout) else {\n            abort_with_message!(\"Heap allocation size not found for layout = {:#x?}\", layout);\n        };\n\n        let res = get_global_heap_allocator().alloc(layout);\n        let Ok(slot) = res else {\n            return core::ptr::null_mut();\n        };\n\n        if required_slot.size() != slot.size()\n            || slot.size() < layout.size()\n            || !(slot.as_ptr() as Vaddr).is_multiple_of(layout.align())\n        {\n            abort_with_message!(\n                \"Heap allocation mismatch: slot ptr = {:p}, size = {:x}; layout = {:#x?}; required_slot = {:#x?}\",\n                slot.as_ptr(),\n                slot.size(),\n                layout,\n                required_slot,\n            );\n        }\n\n        slot.as_ptr()\n    }"
}