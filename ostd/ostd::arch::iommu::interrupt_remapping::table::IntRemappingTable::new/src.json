{
  "name": "ostd::arch::iommu::interrupt_remapping::table::IntRemappingTable::new",
  "span": "ostd/src/arch/x86/iommu/interrupt_remapping/table.rs:45:5: 45:32",
  "src": "pub(super) fn new() -> Self {\n        const NUM_PAGES: usize = 1;\n\n        let segment = FrameAllocOptions::new()\n            .alloc_segment_with(NUM_PAGES, |_| IntRemappingMeta)\n            .unwrap();\n        let num_entries = (NUM_PAGES * PAGE_SIZE / size_of::<u128>())\n            .try_into()\n            .unwrap();\n\n        Self {\n            num_entries,\n            extended_interrupt_mode: ExtendedInterruptMode::X2Apic,\n            segment,\n            modification_lock: SpinLock::new(()),\n            allocator: SpinLock::new(IdAlloc::with_capacity(num_entries as usize)),\n        }\n    }"
}