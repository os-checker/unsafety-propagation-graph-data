{
  "name": "ostd::mm::vm_space::CursorMut::<'a>::unmap",
  "span": "ostd/src/mm/vm_space.rs:506:5: 506:49",
  "mir": "fn ostd::mm::vm_space::CursorMut::<'a>::unmap(_1: &mut mm::vm_space::CursorMut<'_>, _2: usize) -> usize {\n    let mut _0: usize;\n    let  _3: usize;\n    let mut _4: usize;\n    let mut _5: &mm::vm_space::CursorMut<'_>;\n    let mut _6: (usize, bool);\n    let mut _7: usize;\n    let  _8: mm::page_table::cursor::PageTableFrag<mm::vm_space::UserPtConfig>;\n    let mut _9: core::option::Option<mm::page_table::cursor::PageTableFrag<mm::vm_space::UserPtConfig>>;\n    let mut _10: &mut mm::page_table::cursor::CursorMut<'_, mm::vm_space::UserPtConfig>;\n    let mut _11: usize;\n    let mut _12: usize;\n    let mut _13: &mm::vm_space::CursorMut<'_>;\n    let mut _14: (usize, bool);\n    let mut _15: isize;\n    let mut _16: isize;\n    let  _17: usize;\n    let  _18: mm::vm_space::VmItem;\n    let mut _19: isize;\n    let  _20: mm::frame::Frame<dyn mm::frame::untyped::AnyUFrameMeta>;\n    let mut _21: (usize, bool);\n    let  _22: ();\n    let mut _23: &mut mm::tlb::TlbFlusher<'_, task::preempt::guard::DisabledPreemptGuard>;\n    let mut _24: mm::tlb::TlbFlushOp;\n    let mut _25: mm::frame::Frame<dyn mm::frame::meta::AnyFrameMeta>;\n    let  _26: ();\n    let mut _27: &mut mm::tlb::TlbFlusher<'_, task::preempt::guard::DisabledPreemptGuard>;\n    let mut _28: mm::tlb::TlbFlushOp;\n    let  _29: mm::frame::Frame<dyn mm::frame::meta::AnyFrameMeta>;\n    let  _30: usize;\n    let  _31: usize;\n    let  _32: usize;\n    let mut _33: (usize, bool);\n    let  _34: ();\n    let mut _35: &mut mm::tlb::TlbFlusher<'_, task::preempt::guard::DisabledPreemptGuard>;\n    let mut _36: mm::tlb::TlbFlushOp;\n    let mut _37: core::ops::Range<usize>;\n    let mut _38: usize;\n    let mut _39: (usize, bool);\n    let  _40: ();\n    let mut _41: &mut mm::tlb::TlbFlusher<'_, task::preempt::guard::DisabledPreemptGuard>;\n    debug self => _1;\n    debug len => _2;\n    debug end_va => _3;\n    debug num_unmapped => _7;\n    debug frag => _8;\n    debug va => _17;\n    debug item => _18;\n    debug old_frame => _20;\n    debug pt => _29;\n    debug va => _30;\n    debug len => _31;\n    debug num_frames => _32;\n    bb0: {\n        StorageLive(_4);\n        StorageLive(_5);\n        _5 = &(*_1);\n        _4 = mm::vm_space::CursorMut::<'_>::virt_addr(move _5) -> [return: bb1, unwind unreachable];\n    }\n    bb1: {\n        StorageDead(_5);\n        _6 = CheckedAdd(_4, _2);\n        assert(!move (_6.1: bool), \"attempt to compute `{} + {}`, which would overflow\", move _4, _2) -> [success: bb2, unwind unreachable];\n    }\n    bb2: {\n        _3 = move (_6.0: usize);\n        StorageDead(_4);\n        StorageLive(_7);\n        _7 = 0_usize;\n        goto -> bb3;\n    }\n    bb3: {\n        StorageLive(_9);\n        StorageLive(_10);\n        _10 = &mut ((*_1).0: mm::page_table::cursor::CursorMut<'_, mm::vm_space::UserPtConfig>);\n        StorageLive(_11);\n        StorageLive(_12);\n        StorageLive(_13);\n        _13 = &(*_1);\n        _12 = mm::vm_space::CursorMut::<'_>::virt_addr(move _13) -> [return: bb4, unwind unreachable];\n    }\n    bb4: {\n        StorageDead(_13);\n        _14 = CheckedSub(_3, _12);\n        assert(!move (_14.1: bool), \"attempt to compute `{} - {}`, which would overflow\", _3, move _12) -> [success: bb5, unwind unreachable];\n    }\n    bb5: {\n        _11 = move (_14.0: usize);\n        StorageDead(_12);\n        _9 = mm::page_table::cursor::CursorMut::<'_, mm::vm_space::UserPtConfig>::take_next(move _10, move _11) -> [return: bb6, unwind unreachable];\n    }\n    bb6: {\n        StorageDead(_11);\n        StorageDead(_10);\n        _15 = discriminant(_9);\n        switchInt(move _15) -> [1: bb7, 0: bb24, otherwise: bb8];\n    }\n    bb7: {\n        StorageLive(_8);\n        _8 = move ((_9 as variant#1).0: mm::page_table::cursor::PageTableFrag<mm::vm_space::UserPtConfig>);\n        StorageDead(_9);\n        _16 = discriminant(_8);\n        switchInt(move _16) -> [0: bb10, 1: bb9, otherwise: bb8];\n    }\n    bb8: {\n        unreachable;\n    }\n    bb9: {\n        _29 = move ((_8 as variant#1).0: mm::frame::Frame<dyn mm::frame::meta::AnyFrameMeta>);\n        _30 = ((_8 as variant#1).1: usize);\n        _31 = ((_8 as variant#1).2: usize);\n        _32 = ((_8 as variant#1).3: usize);\n        _33 = CheckedAdd(_7, _32);\n        assert(!move (_33.1: bool), \"attempt to compute `{} + {}`, which would overflow\", _7, _32) -> [success: bb19, unwind unreachable];\n    }\n    bb10: {\n        _17 = ((_8 as variant#0).0: usize);\n        StorageLive(_18);\n        _18 = move ((_8 as variant#0).1: mm::vm_space::VmItem);\n        _19 = discriminant((_18.1: mm::vm_space::MappedItem));\n        switchInt(move _19) -> [0: bb12, 1: bb11, otherwise: bb8];\n    }\n    bb11: {\n        StorageLive(_27);\n        _27 = &mut ((*_1).1: mm::tlb::TlbFlusher<'_, task::preempt::guard::DisabledPreemptGuard>);\n        StorageLive(_28);\n        _28 = mm::tlb::TlbFlushOp::for_single(_17) -> [return: bb17, unwind unreachable];\n    }\n    bb12: {\n        _20 = move (((_18.1: mm::vm_space::MappedItem) as variant#0).0: mm::frame::Frame<dyn mm::frame::untyped::AnyUFrameMeta>);\n        _21 = CheckedAdd(_7, 1_usize);\n        assert(!move (_21.1: bool), \"attempt to compute `{} + {}`, which would overflow\", _7, 1_usize) -> [success: bb13, unwind unreachable];\n    }\n    bb13: {\n        _7 = move (_21.0: usize);\n        StorageLive(_23);\n        _23 = &mut ((*_1).1: mm::tlb::TlbFlusher<'_, task::preempt::guard::DisabledPreemptGuard>);\n        StorageLive(_24);\n        _24 = mm::tlb::TlbFlushOp::for_single(_17) -> [return: bb14, unwind unreachable];\n    }\n    bb14: {\n        StorageLive(_25);\n        _25 = <mm::frame::Frame<dyn mm::frame::untyped::AnyUFrameMeta> as core::convert::Into<mm::frame::Frame<dyn mm::frame::meta::AnyFrameMeta>>>::into(_20) -> [return: bb15, unwind unreachable];\n    }\n    bb15: {\n        _22 = mm::tlb::TlbFlusher::<'_, task::preempt::guard::DisabledPreemptGuard>::issue_tlb_flush_with(move _23, move _24, move _25) -> [return: bb16, unwind unreachable];\n    }\n    bb16: {\n        StorageDead(_25);\n        StorageDead(_24);\n        StorageDead(_23);\n        goto -> bb25;\n    }\n    bb17: {\n        _26 = mm::tlb::TlbFlusher::<'_, task::preempt::guard::DisabledPreemptGuard>::issue_tlb_flush(move _27, move _28) -> [return: bb18, unwind unreachable];\n    }\n    bb18: {\n        StorageDead(_28);\n        StorageDead(_27);\n        goto -> bb25;\n    }\n    bb19: {\n        _7 = move (_33.0: usize);\n        StorageLive(_35);\n        _35 = &mut ((*_1).1: mm::tlb::TlbFlusher<'_, task::preempt::guard::DisabledPreemptGuard>);\n        StorageLive(_36);\n        StorageLive(_37);\n        StorageLive(_38);\n        _39 = CheckedAdd(_30, _31);\n        assert(!move (_39.1: bool), \"attempt to compute `{} + {}`, which would overflow\", _30, _31) -> [success: bb20, unwind unreachable];\n    }\n    bb20: {\n        _38 = move (_39.0: usize);\n        _37 = Range(_30, move _38);\n        StorageDead(_38);\n        _36 = mm::tlb::TlbFlushOp::for_range(move _37) -> [return: bb21, unwind unreachable];\n    }\n    bb21: {\n        StorageDead(_37);\n        _34 = mm::tlb::TlbFlusher::<'_, task::preempt::guard::DisabledPreemptGuard>::issue_tlb_flush_with(move _35, move _36, _29) -> [return: bb22, unwind unreachable];\n    }\n    bb22: {\n        StorageDead(_36);\n        StorageDead(_35);\n        goto -> bb26;\n    }\n    bb23: {\n        StorageDead(_41);\n        _0 = _7;\n        StorageDead(_7);\n        return;\n    }\n    bb24: {\n        StorageDead(_9);\n        StorageLive(_41);\n        _41 = &mut ((*_1).1: mm::tlb::TlbFlusher<'_, task::preempt::guard::DisabledPreemptGuard>);\n        _40 = mm::tlb::TlbFlusher::<'_, task::preempt::guard::DisabledPreemptGuard>::dispatch_tlb_flush(move _41) -> [return: bb23, unwind unreachable];\n    }\n    bb25: {\n        StorageDead(_18);\n        goto -> bb26;\n    }\n    bb26: {\n        StorageDead(_8);\n        goto -> bb3;\n    }\n}\n"
}