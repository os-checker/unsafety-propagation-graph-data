{
  "name": "ostd::cpu::local::dyn_cpu_local::<impl cpu::local::CpuLocal<T, cpu::local::dyn_cpu_local::DynamicStorage<T>>>::__new_dynamic",
  "span": "ostd/src/cpu/local/dyn_cpu_local.rs:88:5: 88:91",
  "src": "unsafe fn __new_dynamic(ptr: *mut T, init_values: &mut impl FnMut(CpuId) -> T) -> Self {\n        let mut storage = DynamicStorage(NonNull::new(ptr).unwrap());\n        for cpu in all_cpus() {\n            let ptr = storage.get_mut_ptr_on_target(cpu);\n            // SAFETY:\n            //  - `ptr` is valid for writes, because:\n            //    - The `DynCpuLocalChunk` slot is non-null and dereferenceable.\n            //    - This initialization occurs before any other code can access\n            //      the memory. References to the data may only be created\n            //      after `Self` is created, ensuring exclusive access by the\n            //      current task.\n            //  - `ptr` is properly aligned, as the caller guarantees that the\n            //    layout requirement is satisfied.\n            unsafe {\n                core::ptr::write(ptr, init_values(cpu));\n            }\n        }\n\n        Self {\n            storage,\n            phantom: PhantomData,\n        }\n    }"
}