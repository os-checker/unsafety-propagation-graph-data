{
  "name": "mm::tlb::TlbFlusher::<'a, G>::issue_tlb_flush_with",
  "safe": true,
  "callees": {
    "mm::tlb::OpsStack::push": {
      "safe": true,
      "tags": {
        "tags": [],
        "spec": {},
        "docs": []
      },
      "doc": "",
      "adt": {
        "mm::tlb::OpsStack": "MutableAsArgument",
        "mm::tlb::TlbFlushOp": "MutableAsArgument"
      }
    }
  },
  "adts": {
    "mm::tlb::OpsStack": [
      "MutRef"
    ],
    "mm::tlb::TlbFlusher": [
      "DerefVariantField(VariantIdx(None)-FieldIdx(Some(2)))",
      "MutRef"
    ],
    "core::option::Option": [
      "Plain"
    ],
    "mm::frame::Frame": [
      "Plain"
    ],
    "mm::tlb::TlbFlushOp": [
      "Plain"
    ]
  },
  "path": {
    "type": "Local",
    "path": "ostd::mm::tlb::TlbFlusher::<'a, G>::issue_tlb_flush_with"
  },
  "span": "ostd/src/mm/tlb.rs:70:5: 76:6",
  "src": "pub fn issue_tlb_flush_with(\n        &mut self,\n        op: TlbFlushOp,\n        drop_after_flush: Frame<dyn AnyFrameMeta>,\n    ) {\n        self.ops_stack.push(op, Some(drop_after_flush));\n    }",
  "mir": "fn mm::tlb::TlbFlusher::<'a, G>::issue_tlb_flush_with(_1: &mut mm::tlb::TlbFlusher<'_, G>, _2: mm::tlb::TlbFlushOp, _3: mm::frame::Frame<dyn mm::frame::meta::AnyFrameMeta>) -> () {\n    let mut _0: ();\n    let  _4: ();\n    let mut _5: &mut mm::tlb::OpsStack;\n    let mut _6: core::option::Option<mm::frame::Frame<dyn mm::frame::meta::AnyFrameMeta>>;\n    debug self => _1;\n    debug op => _2;\n    debug drop_after_flush => _3;\n    bb0: {\n        StorageLive(_5);\n        _5 = &mut ((*_1).2: mm::tlb::OpsStack);\n        StorageLive(_6);\n        _6 = core::option::Option::Some(_3);\n        _4 = mm::tlb::OpsStack::push(move _5, _2, move _6) -> [return: bb1, unwind unreachable];\n    }\n    bb1: {\n        StorageDead(_6);\n        StorageDead(_5);\n        return;\n    }\n}\n",
  "doc": " Issues a TLB flush request that must happen before dropping the page.\n\n If we need to remove a mapped page from the page table, we can only\n recycle the page after all the relevant TLB entries in all CPUs are\n flushed. Otherwise if the page is recycled for other purposes, the user\n space program can still access the page through the TLB entries. This\n method is designed to be used in such cases.\n",
  "tags": {
    "tags": [],
    "spec": {},
    "docs": []
  }
}