{
  "name": "sync::rcu::finish_grace_period",
  "safe": false,
  "callees": {
    "spin::once::Once::<T, R>::get": {
      "safe": true,
      "tags": {
        "tags": [],
        "spec": {},
        "docs": []
      },
      "doc": " Returns a reference to the inner value if the [`Once`] has been initialized.\n",
      "adt": {}
    },
    "core::option::Option::<T>::unwrap": {
      "safe": true,
      "tags": {
        "tags": [],
        "spec": {},
        "docs": []
      },
      "doc": " Returns the contained [`Some`] value, consuming the `self` value.\n\n Because this function may panic, its use is generally discouraged.\n Panics are meant for unrecoverable errors, and\n [may abort the entire program][panic-abort].\n\n Instead, prefer to use pattern matching and handle the [`None`]\n case explicitly, or call [`unwrap_or`], [`unwrap_or_else`], or\n [`unwrap_or_default`]. In functions returning `Option`, you can use\n [the `?` (try) operator][try-option].\n\n [panic-abort]: https://doc.rust-lang.org/book/ch09-01-unrecoverable-errors-with-panic.html\n [try-option]: https://doc.rust-lang.org/book/ch09-02-recoverable-errors-with-result.html#where-the--operator-can-be-used\n [`unwrap_or`]: Option::unwrap_or\n [`unwrap_or_else`]: Option::unwrap_or_else\n [`unwrap_or_default`]: Option::unwrap_or_default\n\n # Panics\n\n Panics if the self value equals [`None`].\n\n # Examples\n\n ```\n let x = Some(\"air\");\n assert_eq!(x.unwrap(), \"air\");\n ```\n\n ```should_panic\n let x: Option<&str> = None;\n assert_eq!(x.unwrap(), \"air\"); // fails\n ```\n",
      "adt": {}
    },
    "sync::rcu::monitor::RcuMonitor::finish_grace_period": {
      "safe": false,
      "tags": {
        "tags": [],
        "spec": {},
        "docs": []
      },
      "doc": "",
      "adt": {
        "sync::rcu::monitor::RcuMonitor": "ImmutableAsArgument"
      }
    }
  },
  "adts": {
    "spin::once::Once": [
      "Ref"
    ],
    "core::option::Option": [
      "Plain"
    ],
    "sync::rcu::monitor::RcuMonitor": [
      "Ref"
    ]
  },
  "path": 2604,
  "span": "ostd/src/sync/rcu/mod.rs:499:1: 505:2",
  "src": "pub unsafe fn finish_grace_period() {\n    let rcu_monitor = RCU_MONITOR.get().unwrap();\n    // SAFETY: The caller ensures safety.\n    unsafe {\n        rcu_monitor.finish_grace_period();\n    }\n}",
  "mir": "fn sync::rcu::finish_grace_period() -> () {\n    let mut _0: ();\n    let  _1: &sync::rcu::monitor::RcuMonitor;\n    let mut _2: core::option::Option<&sync::rcu::monitor::RcuMonitor>;\n    let mut _3: &spin::once::Once<sync::rcu::monitor::RcuMonitor>;\n    let  _4: ();\n    debug rcu_monitor => _1;\n    bb0: {\n        StorageLive(_2);\n        StorageLive(_3);\n        _3 = {alloc1478: &spin::once::Once<sync::rcu::monitor::RcuMonitor>};\n        _2 = spin::once::Once::<sync::rcu::monitor::RcuMonitor>::get(move _3) -> [return: bb1, unwind unreachable];\n    }\n    bb1: {\n        StorageDead(_3);\n        _1 = core::option::Option::<&sync::rcu::monitor::RcuMonitor>::unwrap(move _2) -> [return: bb2, unwind unreachable];\n    }\n    bb2: {\n        StorageDead(_2);\n        _4 = sync::rcu::monitor::RcuMonitor::finish_grace_period(_1) -> [return: bb3, unwind unreachable];\n    }\n    bb3: {\n        return;\n    }\n}\n",
  "doc": " Finishes the current grace period.\n\n This function is called when the current grace period on current CPU is\n finished. If this CPU is the last CPU to finish the current grace period,\n it takes all the current callbacks and invokes them.\n\n # Safety\n\n The caller must ensure that this CPU is not executing in a RCU read-side\n critical section.\n",
  "tags": {
    "tags": [],
    "spec": {},
    "docs": []
  }
}