{
  "name": "sync::spin::SpinLock::<T>::disable_irq",
  "safe": true,
  "callees": {},
  "adts": {
    "sync::spin::SpinLock": [
      "Deref",
      "Ref"
    ]
  },
  "path": 2719,
  "span": "ostd/src/sync/spin.rs:58:5: 67:6",
  "src": "pub fn disable_irq(&self) -> &SpinLock<T, LocalIrqDisabled> {\n        let ptr = self as *const SpinLock<T, PreemptDisabled>;\n        let ptr = ptr as *const SpinLock<T, LocalIrqDisabled>;\n        // SAFETY:\n        // 1. The types `SpinLock<T, PreemptDisabled>`, `SpinLockInner<T>` and `SpinLock<T,\n        //    IrqDisabled>` have the same memory layout guaranteed by `#[repr(transparent)]`.\n        // 2. The specified memory location can be borrowed as an immutable reference for the\n        //    specified lifetime.\n        unsafe { &*ptr }\n    }",
  "mir": "fn sync::spin::SpinLock::<T>::disable_irq(_1: &sync::spin::SpinLock<T>) -> &sync::spin::SpinLock<T, sync::guard::LocalIrqDisabled> {\n    let mut _0: &sync::spin::SpinLock<T, sync::guard::LocalIrqDisabled>;\n    let  _2: *const sync::spin::SpinLock<T>;\n    let  _3: *const sync::spin::SpinLock<T, sync::guard::LocalIrqDisabled>;\n    debug self => _1;\n    debug ptr => _2;\n    debug ptr => _3;\n    bb0: {\n        _2 = &raw const (*_1);\n        StorageLive(_3);\n        _3 = _2 as *const sync::spin::SpinLock<T, sync::guard::LocalIrqDisabled>;\n        _0 = &(*_3);\n        StorageDead(_3);\n        return;\n    }\n}\n",
  "doc": " Converts the guard behavior from disabling preemption to disabling IRQs.\n",
  "tags": {
    "tags": [],
    "spec": {},
    "docs": []
  }
}