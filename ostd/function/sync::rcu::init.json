{
  "name": "sync::rcu::init",
  "safe": true,
  "callees": {
    "spin::once::Once::<T, R>::call_once": {
      "safe": true,
      "tags": {
        "tags": [],
        "spec": {},
        "docs": []
      },
      "doc": " Performs an initialization routine once and only once. The given closure\n will be executed if this is the first time `call_once` has been called,\n and otherwise the routine will *not* be invoked.\n\n This method will block the calling thread if another initialization\n routine is currently running.\n\n When this function returns, it is guaranteed that some initialization\n has run and completed (it may not be the closure specified). The\n returned pointer will point to the result from the closure that was\n run.\n\n # Panics\n\n This function will panic if the [`Once`] previously panicked while attempting\n to initialize. This is similar to the poisoning behaviour of `std::sync`'s\n primitives.\n\n # Examples\n\n ```\n use spin;\n\n static INIT: spin::Once<usize> = spin::Once::new();\n\n fn get_cached_val() -> usize {\n     *INIT.call_once(expensive_computation)\n }\n\n fn expensive_computation() -> usize {\n     // ...\n # 2\n }\n ```\n",
      "adt": {}
    },
    "sync::rcu::monitor::RcuMonitor::new": {
      "safe": true,
      "tags": {
        "tags": [],
        "spec": {},
        "docs": []
      },
      "doc": " Creates a new RCU monitor.\n\n This function is used to initialize a singleton instance of `RcuMonitor`.\n The singleton instance is globally accessible via the `RCU_MONITOR`.\n",
      "adt": {
        "sync::rcu::monitor::RcuMonitor": "Constructor"
      }
    }
  },
  "adts": {
    "spin::once::Once": [
      "Ref"
    ],
    "sync::rcu::monitor::RcuMonitor": [
      "Ref"
    ]
  },
  "path": {
    "type": "Local",
    "path": "ostd::sync::rcu::init"
  },
  "span": "ostd/src/sync/rcu/mod.rs:509:1: 511:2",
  "src": "pub fn init() {\n    RCU_MONITOR.call_once(RcuMonitor::new);\n}",
  "mir": "fn sync::rcu::init() -> () {\n    let mut _0: ();\n    let  _1: &sync::rcu::monitor::RcuMonitor;\n    let mut _2: &spin::once::Once<sync::rcu::monitor::RcuMonitor>;\n    bb0: {\n        StorageLive(_1);\n        StorageLive(_2);\n        _2 = {alloc1478: &spin::once::Once<sync::rcu::monitor::RcuMonitor>};\n        _1 = spin::once::Once::<sync::rcu::monitor::RcuMonitor>::call_once::<fn() -> sync::rcu::monitor::RcuMonitor {sync::rcu::monitor::RcuMonitor::new}>(move _2, sync::rcu::monitor::RcuMonitor::new) -> [return: bb1, unwind unreachable];\n    }\n    bb1: {\n        StorageDead(_2);\n        StorageDead(_1);\n        return;\n    }\n}\n",
  "doc": "",
  "tags": {
    "tags": [],
    "spec": {},
    "docs": []
  }
}