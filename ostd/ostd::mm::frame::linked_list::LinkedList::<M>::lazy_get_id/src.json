{
  "name": "ostd::mm::frame::linked_list::LinkedList::<M>::lazy_get_id",
  "span": "ostd/src/mm/frame/linked_list.rs:201:5: 201:37",
  "src": "fn lazy_get_id(&mut self) -> u64 {\n        // FIXME: Self-incrementing IDs may overflow, while `core::pin::Pin`\n        // is not compatible with locks. Think about a better solution.\n        static LIST_ID_ALLOCATOR: AtomicU64 = AtomicU64::new(1);\n        const MAX_LIST_ID: u64 = i64::MAX as u64;\n\n        if self.list_id == 0 {\n            let id = LIST_ID_ALLOCATOR.fetch_add(1, Ordering::Relaxed);\n            if id >= MAX_LIST_ID {\n                log::error!(\"The frame list ID allocator has exhausted.\");\n                abort();\n            }\n            self.list_id = id;\n            id\n        } else {\n            self.list_id\n        }\n    }"
}