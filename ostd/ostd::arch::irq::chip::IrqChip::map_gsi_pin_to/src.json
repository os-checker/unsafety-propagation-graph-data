{
  "name": "ostd::arch::irq::chip::IrqChip::map_gsi_pin_to",
  "span": "ostd/src/arch/x86/irq/chip/mod.rs:50:5: 54:31",
  "src": "pub fn map_gsi_pin_to(\n        &'static self,\n        irq_line: IrqLine,\n        gsi_index: u32,\n    ) -> Result<MappedIrqLine> {\n        let mut io_apics = self.io_apics.lock();\n\n        let io_apic = io_apics\n            .iter_mut()\n            .rev()\n            .find(|io_apic| io_apic.interrupt_base() <= gsi_index)\n            .unwrap();\n        let index_in_io_apic = (gsi_index - io_apic.interrupt_base())\n            .try_into()\n            .map_err(|_| Error::InvalidArgs)?;\n        io_apic.enable(index_in_io_apic, &irq_line)?;\n\n        Ok(MappedIrqLine {\n            irq_line,\n            gsi_index,\n            irq_chip: self,\n        })\n    }"
}