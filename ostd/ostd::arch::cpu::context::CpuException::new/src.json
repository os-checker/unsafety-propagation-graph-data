{
  "name": "ostd::arch::cpu::context::CpuException::new",
  "span": "ostd/src/arch/x86/cpu/context/mod.rs:148:5: 148:74",
  "src": "pub(crate) fn new(trap_num: usize, error_code: usize) -> Option<Self> {\n        let exception = match trap_num {\n            0 => Self::DivisionError,\n            1 => Self::Debug,\n            2 => Self::NonMaskableInterrupt,\n            3 => Self::BreakPoint,\n            4 => Self::Overflow,\n            5 => Self::BoundRangeExceeded,\n            6 => Self::InvalidOpcode,\n            7 => Self::DeviceNotAvailable,\n            8 => {\n                // A double fault will always generate an error code with a value of zero.\n                debug_assert_eq!(error_code, 0);\n                Self::DoubleFault\n            }\n            9 => Self::CoprocessorSegmentOverrun,\n            10 => Self::InvalidTss(SelectorErrorCode(error_code)),\n            11 => Self::SegmentNotPresent(SelectorErrorCode(error_code)),\n            12 => Self::StackSegmentFault(SelectorErrorCode(error_code)),\n            13 => {\n                let error_code = if error_code == 0 {\n                    None\n                } else {\n                    Some(SelectorErrorCode(error_code))\n                };\n                Self::GeneralProtectionFault(error_code)\n            }\n            14 => {\n                let page_fault_addr = x86_64::registers::control::Cr2::read_raw() as usize;\n                Self::PageFault(RawPageFaultInfo {\n                    error_code: PageFaultErrorCode::from_bits(error_code).unwrap(),\n                    addr: page_fault_addr,\n                })\n            }\n            // Reserved 15\n            16 => Self::X87FloatingPointException,\n            17 => Self::AlignmentCheck,\n            18 => Self::MachineCheck,\n            19 => Self::SIMDFloatingPointException,\n            20 => Self::VirtualizationException,\n            21 => Self::ControlProtectionException,\n            // Reserved 22-27\n            28 => Self::HypervisorInjectionException,\n            29 => Self::VMMCommunicationException,\n            30 => Self::SecurityException,\n            // Reserved 31\n            15 | 22..=27 | 31 => Self::Reserved,\n            _ => return None,\n        };\n\n        Some(exception)\n    }"
}