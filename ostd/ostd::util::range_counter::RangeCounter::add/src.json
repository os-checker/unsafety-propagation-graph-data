{
  "name": "ostd::util::range_counter::RangeCounter::add",
  "span": "ostd/src/util/range_counter.rs:40:5: 40:93",
  "src": "pub(crate) fn add(&mut self, range: &Range<usize>) -> impl Iterator<Item = Range<usize>> {\n        assert!(range.start <= range.end);\n        let mut updated_ranges = Vec::new();\n        let mut reported_end = range.start;\n\n        for i in range.clone() {\n            let counter = self.counters.entry(i).or_insert(0);\n            if *counter != 0 {\n                if reported_end < i {\n                    updated_ranges.push(reported_end..i);\n                }\n                reported_end = i + 1;\n            }\n            *counter += 1;\n        }\n        if reported_end < range.end {\n            updated_ranges.push(reported_end..range.end);\n        }\n\n        updated_ranges.into_iter()\n    }"
}