{
  "name": "ostd::mm::vm_space::VmSpace",
  "constructors": [
    "ostd::mm::vm_space::VmSpace::new",
    "ostd::<mm::vm_space::VmSpace as core::default::Default>::default"
  ],
  "access_self_as_arg": {
    "read": [
      "ostd::mm::vm_space::VmSpace::cursor",
      "ostd::mm::vm_space::VmSpace::cursor_mut",
      "ostd::mm::vm_space::VmSpace::reader",
      "ostd::mm::vm_space::VmSpace::writer",
      "ostd::mm::vm_space::VmSpace::reader_writer",
      "ostd::mm::vm_space::VmSpace::find_iomem_by_paddr",
      "ostd::<mm::vm_space::VmSpace as core::fmt::Debug>::fmt"
    ],
    "write": [],
    "other": []
  },
  "access_self_as_locals": {
    "read": [
      "ostd::mm::vm_space::VmSpace::activate",
      "ostd::mm::vm_space::CursorMut::<'a>::map_iomem",
      "ostd::mm::vm_space::CursorMut::<'a>::find_iomem_by_paddr"
    ],
    "write": [],
    "other": [
      "ostd::mm::vm_space::VmSpace::new",
      "ostd::<mm::vm_space::VmSpace as core::default::Default>::default"
    ]
  },
  "access_field": [
    {
      "read": [
        "ostd::mm::vm_space::VmSpace::cursor",
        "ostd::mm::vm_space::VmSpace::cursor_mut",
        "ostd::mm::vm_space::VmSpace::activate",
        "ostd::mm::vm_space::VmSpace::reader",
        "ostd::mm::vm_space::VmSpace::writer",
        "ostd::mm::vm_space::VmSpace::reader_writer",
        "ostd::<mm::vm_space::VmSpace as core::fmt::Debug>::fmt"
      ],
      "write": [],
      "other": []
    },
    {
      "read": [
        "ostd::mm::vm_space::VmSpace::cursor_mut",
        "ostd::mm::vm_space::VmSpace::activate",
        "ostd::<mm::vm_space::VmSpace as core::fmt::Debug>::fmt"
      ],
      "write": [],
      "other": []
    },
    {
      "read": [
        "ostd::mm::vm_space::VmSpace::find_iomem_by_paddr",
        "ostd::mm::vm_space::CursorMut::<'a>::map_iomem",
        "ostd::<mm::vm_space::VmSpace as core::fmt::Debug>::fmt"
      ],
      "write": [],
      "other": []
    }
  ],
  "span": "ostd/src/mm/vm_space.rs:70:1: 70:19",
  "src": "pub struct VmSpace",
  "kind": "Struct",
  "doc_adt": " A virtual address space for user-mode tasks, enabling safe manipulation of user-space memory.\n\n The `VmSpace` type provides memory isolation guarantees between user-space and\n kernel-space. For example, given an arbitrary user-space pointer, one can read and\n write the memory location referred to by the user-space pointer without the risk of\n breaking the memory safety of the kernel space.\n\n # Task Association Semantics\n\n As far as OSTD is concerned, a `VmSpace` is not necessarily associated with a task. Once a\n `VmSpace` is activated (see [`VmSpace::activate`]), it remains activated until another\n `VmSpace` is activated **possibly by another task running on the same CPU**.\n\n This means that it's up to the kernel to ensure that a task's `VmSpace` is always activated\n while the task is running. This can be done by using the injected post schedule handler\n (see [`inject_post_schedule_handler`]) to always activate the correct `VmSpace` after each\n context switch.\n\n If the kernel otherwise decides not to ensure that the running task's `VmSpace` is always\n activated, the kernel must deal with race conditions when calling methods that require the\n `VmSpace` to be activated, e.g., [`UserMode::execute`], [`VmSpace::reader`],\n [`VmSpace::writer`]. Otherwise, the behavior is unspecified, though it's guaranteed _not_ to\n compromise the kernel's memory safety.\n\n # Memory Backing\n\n A newly-created `VmSpace` is not backed by any physical memory pages. To\n provide memory pages for a `VmSpace`, one can allocate and map physical\n memory ([`UFrame`]s) to the `VmSpace` using the cursor.\n\n A `VmSpace` can also attach a page fault handler, which will be invoked to\n handle page faults generated from user space.\n\n [`inject_post_schedule_handler`]: crate::task::inject_post_schedule_handler\n [`UserMode::execute`]: crate::user::UserMode::execute\n",
  "variant_fields": {
    "VariantIdx(None)-FieldIdx(Some(0))": {
      "name": "pt",
      "doc": ""
    },
    "VariantIdx(None)-FieldIdx(Some(1))": {
      "name": "cpus",
      "doc": ""
    },
    "VariantIdx(None)-FieldIdx(Some(2))": {
      "name": "iomems",
      "doc": ""
    }
  }
}