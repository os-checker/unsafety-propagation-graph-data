{
  "name": "ostd::arch::boot::smp::bringup_all_aps",
  "span": "ostd/src/arch/x86/boot/smp.rs:117:1: 117:98",
  "src": "pub(crate) unsafe fn bringup_all_aps(info_ptr: *const PerApRawInfo, pt_ptr: Paddr, num_cpus: u32) {\n    // SAFETY: The code and data to boot AP is valid to write because\n    // there are no readers and we are the only writer at this point.\n    unsafe {\n        copy_ap_boot_code();\n        fill_boot_info_ptr(info_ptr);\n        fill_boot_pt_ptr(pt_ptr);\n    }\n\n    // SAFETY: We've properly prepared all the resources to boot APs.\n    if_tdx_enabled!({\n        unsafe { wake_up_aps_via_mailbox(num_cpus) };\n    } else {\n        unsafe { send_boot_ipis() };\n    });\n}"
}